(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-search-search"],{"0a0b":function(a,e,t){t("5c47"),t("a1c1"),t("9db6"),t("5ef2"),a.exports={navigateBack:function(){uni.navigateBack({delta:1,fail:function(a){uni.switchTab({url:"/pages/index/index"})}})},jiangqie:function(){uni.navigateTo({url:"/pages/webview/webview"})},openLink:function(a){if(a)return a.startsWith("/pages/")?(a=function(a){var e="";return 0===a.length?"":(e=a.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&nbsp;/g," "),e=e.replace(/&#39;/g,"'"),e=e.replace(/&quot;/g,'"'),e)}(a),void uni.navigateTo({url:a,fail:function(){uni.redirectTo({url:a})}})):void uni.navigateToMiniProgram({appId:a,fail:function(a){a.errMsg&&a.errMsg.indexOf("cancel")<0&&uni.showToast({icon:"none",title:a.errMsg})}})}}},"407a":function(a,e,t){var i=t("cda3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[a.i,i,""]]),i.locals&&(a.exports=i.locals);var n=t("967d").default;n("6f6ae01d",i,!0,{sourceMap:!1,shadowMode:!1})},"7d4d":function(a,e,t){"use strict";t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return n})),t.d(e,"a",(function(){}));var i=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-uni-view",{staticClass:"container"},[t("v-uni-view",{staticClass:"jiangqie-searchbox"},[t("v-uni-view",{staticClass:"jiangqie-search-input"},[t("v-uni-icon",{attrs:{type:"search",size:"13",color:"#999"}}),t("v-uni-input",{staticClass:"jiangqie-input",attrs:{"confirm-type":"search",placeholder:"大家都在搜："+a.placeholder,"auto-focus":"ture","placeholder-class":"jiangqie-input-plholder"},on:{confirm:function(e){arguments[0]=e=a.$handleEvent(e),a.handerSearchConfirm.apply(void 0,arguments)},input:function(e){arguments[0]=e=a.$handleEvent(e),a.handlerSearchInput.apply(void 0,arguments)}}})],1),a.canSearch?t("v-uni-view",{staticClass:"jiangqie-search",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.handerSearchClick.apply(void 0,arguments)}}},[a._v("搜索")]):t("v-uni-view",{staticClass:"jiangqie-cancle",on:{click:function(e){arguments[0]=e=a.$handleEvent(e),a.handerCancelClick.apply(void 0,arguments)}}},[a._v("取消")])],1),a.historySearch.length>0?t("v-uni-view",{staticClass:"jiangqie-search-box"},[t("v-uni-view",{staticClass:"jiangqie-search-head"},[t("v-uni-text",{staticClass:"jiangqie-search-clear",on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.handlerClearHistory.apply(void 0,arguments)}}},[a._v("清除历史")]),t("v-uni-image",{staticClass:"jiangqie-search-icon",attrs:{src:"/static/images/time.png",mode:"widthFix"}}),a._v("历史搜索")],1),t("v-uni-view",{staticClass:"jiangqie-search-list"},a._l(a.historySearch,(function(e,i){return t("v-uni-view",{key:i,staticClass:"jiangqie-search-tag",attrs:{"data-item":e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.handlerSearchItemClick.apply(void 0,arguments)}}},[t("v-uni-image",{staticClass:"jiangqie-search-del",attrs:{src:"/static/images/del.png",mode:"widthFix","data-item":e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.handlerSearchItemDelete.apply(void 0,arguments)}}}),t("v-uni-text",[a._v(a._s(e))])],1)})),1)],1):a._e(),a.hotSearch.length>0?t("v-uni-view",{staticClass:"jiangqie-search-box"},[t("v-uni-view",{staticClass:"jiangqie-search-head"},[t("v-uni-image",{staticClass:"jiangqie-search-icon",attrs:{src:"/static/images/hot.png",mode:"widthFix"}}),a._v("热门")],1),t("v-uni-view",{staticClass:"jiangqie-search-list jiangqie-search-hot"},a._l(a.hotSearch,(function(e,i){return t("v-uni-view",{key:i,staticClass:"jiangqie-search-tag",attrs:{"data-item":e},on:{click:function(e){e.stopPropagation(),arguments[0]=e=a.$handleEvent(e),a.handlerSearchItemClick.apply(void 0,arguments)}}},[t("v-uni-text",[a._v(a._s(e))])],1)})),1)],1):a._e()],1)},n=[]},"98dc":function(a,e,t){"use strict";t("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t("5c47"),t("af8f"),t("aa9c");var i=t("ea2b"),n=t("0a0b"),o=t("e638"),r=t("e2e2"),s={data:function(){return{canSearch:!1,historySearch:[],hotSearch:[],placeholder:"",keyword:""}},onLoad:function(a){var e=this;uni.getStorage({key:i.JQ_SEARCH_KEY,success:function(a){e.historySearch=a.data}}),this.placeholder=getApp().globalData.appName,r.get(o.JIANGQIE_POSTS_SEARCH_HOT).then((function(a){e.hotSearch=a.data}))},onShareAppMessage:function(){return{title:getApp().globalData.appName,path:"pages/index/index"}},methods:{handlerSearchInput:function(a){this.keyword=a.detail.value,this.canSearch=this.keyword.length>0},handerSearchConfirm:function(a){this.search()},handerSearchClick:function(a){this.search()},search:function(){var a=this;uni.getStorage({key:i.JQ_SEARCH_KEY,success:function(e){for(var t=[a.keyword],n=0;n<e.data.length&&t.length<i.JQ_SEARCH_MAX_COUNT;n++)a.keyword!=e.data[n]&&t.push(e.data[n]);a.historySearch=t,uni.setStorage({data:t,key:i.JQ_SEARCH_KEY})},fail:function(e){var t=[a.keyword];a.historySearch=t,uni.setStorage({data:t,key:i.JQ_SEARCH_KEY})}}),uni.navigateTo({url:"/pages/list/list?search="+this.keyword})},handerCancelClick:function(a){n.navigateBack()},handlerClearHistory:function(a){var e=this;uni.showModal({title:"提示",content:"确定要清除吗？",success:function(a){a.confirm&&uni.setStorage({key:i.JQ_SEARCH_KEY,data:[],success:function(){e.historySearch=[]}})}})},handlerSearchItemClick:function(a){var e=a.currentTarget.dataset.item;uni.navigateTo({url:"/pages/list/list?search="+e})},handlerSearchItemDelete:function(a){var e=this;uni.showModal({title:"提示",content:"确定要删除吗？",success:function(t){if(t.confirm){for(var n=a.currentTarget.dataset.item,o=[],r=0;r<e.historySearch.length;r++)n!=e.historySearch[r]&&o.push(e.historySearch[r]);e.historySearch=o,uni.setStorage({data:o,key:i.JQ_SEARCH_KEY})}}})}}};e.default=s},a32e:function(a,e){a.exports={JQ_DOMAIN:"kongjian.beidewu.cn"}},cd34:function(a,e,t){"use strict";var i=t("407a"),n=t.n(i);n.a},cda3:function(a,e,t){var i=t("c86c");e=i(!1),e.push([a.i,".container[data-v-122a30fa]{display:flex;flex-direction:column;box-sizing:border-box;padding:0 %?30?%;padding-bottom:env(safe-area-inset-bottom)}.jiangqie-search-box[data-v-122a30fa]{box-sizing:border-box;padding:%?30?% 0;border-bottom:%?1?% solid #ddd}.jiangqie-search-head[data-v-122a30fa]{text-align:left;font-size:%?30?%;font-weight:500}.jiangqie-search-icon[data-v-122a30fa]{height:%?28?%;width:%?28?%;margin-right:%?8?%}.jiangqie-search-clear[data-v-122a30fa]{float:right;font-size:%?24?%;color:#999;font-weight:300}.jiangqie-search-list[data-v-122a30fa]{flex-direction:column;box-sizing:border-box;padding-top:%?30?%}.jiangqie-search-tag[data-v-122a30fa]{float:left;padding:%?4?% %?60?% %?8?% %?26?%;vertical-align:middle;background:#eaeaea;border-radius:%?40?%;margin-right:%?20?%;margin-bottom:%?20?%}.jiangqie-search-hot .jiangqie-search-tag[data-v-122a30fa]{padding-right:%?26?%}.jiangqie-search-tag uni-text[data-v-122a30fa]{font-weight:300;font-size:%?24?%;color:#666}.jiangqie-search-del[data-v-122a30fa]{float:right;height:%?22?%;width:%?22?%;margin-right:%?-36?%;margin-top:%?14?%}.jiangqie-searchbox[data-v-122a30fa]{padding:%?30?% 0;box-sizing:border-box;display:flex;align-items:center}.jiangqie-search-input[data-v-122a30fa]{width:100%;height:%?66?%;border-radius:%?35?%;padding:0 %?30?%;box-sizing:border-box;background:#eee;display:flex;align-items:center;flex-wrap:nowrap;border:%?1?% solid #ddd}.jiangqie-input[data-v-122a30fa]{flex:1;color:#333;padding:0 %?16?%;font-size:%?28?%}.jiangqie-input-plholder[data-v-122a30fa]{font-size:%?28?%;color:#b2b2b2}.jiangqie-cancle[data-v-122a30fa]{color:#888;font-size:%?28?%;padding-left:%?30?%;flex-shrink:0}.jiangqie-search[data-v-122a30fa]{font-size:%?28?%;padding-left:%?30?%;flex-shrink:0}",""]),a.exports=e},e2e2:function(a,e,t){var i=t("bdbb").default;t("bf0f");var n=t("2b7b");function o(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(i,o){uni.showLoading(),e.token=n.getToken(),"GET"==t&&(e.t=(new Date).getTime(),e.r=Math.floor(1e4*Math.random())),uni.request({url:a,data:e,method:t,success:function(a){200==a.statusCode?-1!=a.data.code?-11!=a.data.code?0!=a.data.code?o(a.data):i(a.data):uni.navigateTo({url:"/pages/login/login?type=mobile"}):uni.navigateTo({url:"/pages/login/login"}):o(a.errMsg)},fail:function(a){o(a)},complete:function(){uni.hideLoading()}})}))}a.exports={get:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(a,e,"GET")},post:function(a){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(a,e,"POST")},upload:function(a,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,r){uni.showLoading({title:"上传中……"}),t.token=n.getToken(),uni.uploadFile({url:a,filePath:e,name:"image",formData:t,success:function(a){if(200==a.statusCode){var e=void 0;e=a.data instanceof String||"string"==i(a.data).toLowerCase()?JSON.parse(a.data):a.data,-1!=e.code?o(e):uni.navigateTo({url:"/pages/login/login"})}else r(a.errMsg)},fail:function(a){console.log(a)},complete:function(){uni.hideLoading()}})}))}}},e638:function(a,e,t){t("c223");var i=t("a32e");function n(a,e){return"https://".concat(i.JQ_DOMAIN,"/wp-json/jiangqie/v1/").concat(a,"/").concat(e)}a.exports={JIANGQIE_SETTING_HOME:n("setting","home"),JIANGQIE_SETTING_HOT:n("setting","hot"),JIANGQIE_SETTING_CATEGORY:n("setting","category"),JIANGQIE_SETTING_UCENTER:n("setting","ucenter"),JIANGQIE_SETTING_LOGIN:n("setting","login"),JIANGQIE_CATEGORY_INDEX:n("category","index"),JIANGQIE_POSTS_LAST:n("posts","last"),JIANGQIE_POSTS_CATEGORY:n("posts","category"),JIANGQIE_POSTS_TAG:n("posts","tag"),JIANGQIE_POSTS_HOT:n("posts","hot"),JIANGQIE_POSTS_SEARCH:n("posts","search"),JIANGQIE_POSTS_SEARCH_HOT:n("posts","search/hot"),JIANGQIE_POSTS_MY:n("posts","my"),JIANGQIE_POST_DETAIL:n("posts","detail"),JIANGQIE_POST_PAGE:n("posts","page"),JIANGQIE_POST_WX_ACODE:n("posts","wxacode"),JIANGQIE_POST_BD_ACODE:n("posts","bdacode"),JIANGQIE_POST_QQ_ACODE:n("posts","qqacode"),JIANGQIE_USER_LOGIN:n("user","login3"),JIANGQIE_USER_LOGIN_TEST:n("user","logintest"),JIANGQIE_USER_INDEX:n("user","index"),JIANGQIE_USER_LIKE:n("user","like"),JIANGQIE_USER_FAVORITE:n("user","favorite"),JIANGQIE_USER_SET_MOBILE:n("user","set_mobile"),JIANGQIE_USER_SET_INFO:n("user","set_info"),JIANGQIE_COMMENT_INDEX:n("comment","index"),JIANGQIE_COMMENT_ADD:n("comment","add"),JIANGQIE_COMMENT_DELETE:n("comment","delete"),JIANGQIE_OTHER_UPLOAD:n("other","upload")}},e8df:function(a,e,t){"use strict";t.r(e);var i=t("7d4d"),n=t("eb2d");for(var o in n)["default"].indexOf(o)<0&&function(a){t.d(e,a,(function(){return n[a]}))}(o);t("cd34");var r=t("828b"),s=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,"122a30fa",null,!1,i["a"],void 0);e["default"]=s.exports},eb2d:function(a,e,t){"use strict";t.r(e);var i=t("98dc"),n=t.n(i);for(var o in i)["default"].indexOf(o)<0&&function(a){t.d(e,a,(function(){return i[a]}))}(o);e["default"]=n.a}}]);