(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-2048-index"],{2044:function(t,e,a){a("bf0f"),a("2797"),a("aa9c"),a("dc69");var n=a("c174"),i=a("4758");function r(t){this.size=t,this.initBlockNum=2}r.prototype={setup:function(){return this.grid=new n(this.size),this.score=0,this.over=!1,this.won=!1,this.addStartTile(),this.grid.cells},addStartTile:function(){for(var t=0;t<this.initBlockNum;t++)this.addRandomTiles()},addRandomTiles:function(){if(this.grid.cellsAvailable()){var t=this.grid.randomAvailableCell(),e=Math.random()<.9?2:4,a=new i(t,e);this.grid.insertTile(a)}},restart:function(){return this.setup()},move:function(t){var e,a,n=this,r=this.getVector(t),o=this.buildTraversals(r),s=!1;if(n.prepareTiles(),o.x.forEach((function(t){o.y.forEach((function(o){if(e={x:t,y:o},a=n.grid.cellContent(e),a){var l=n.findFarthestTail(e,r),p=n.grid.cellContent(l.next);if(p&&p.value==a.value&&!p.mergedFrom){var c=new i(l.next,2*a.value);c.mergedFrom=[a,p],n.grid.insertTile(c),n.grid.removeTile(a),a.updatePosition(l.next),n.score+=c.value,2048==c.value&&(n.won=!0)}else n.moveTile(a,l.farthest);n.positionsEqual(e,a)||(s=!0)}}))})),s)return this.addRandomTiles(),this.movesAvailable()||(this.over=!0),this.actuate()},getVector:function(t){return{1:{x:0,y:1},2:{x:1,y:0},3:{x:0,y:-1},4:{x:-1,y:0}}[t]},buildTraversals:function(t){for(var e={x:[],y:[]},a=0;a<this.size;a++)e.x.push(a),e.y.push(a);return 1==t.x&&(e.x=e.x.reverse()),1==t.y&&(e.y=e.y.reverse()),e},prepareTiles:function(){for(var t,e=0;e<this.size;e++)for(var a=0;a<this.size;a++)t=this.grid.cells[e][a],t&&(t.mergedFrom=null,t.savePosition())},findFarthestTail:function(t,e){var a;do{a=t,t={x:a.x+e.x,y:a.y+e.y}}while(this.grid.withinBounds(t)&&this.grid.emptyCell(t));return{farthest:a,next:t}},moveTile:function(t,e){this.grid.cells[t.x][t.y]=null,this.grid.cells[e.x][e.y]=t,t.updatePosition(e)},positionsEqual:function(t,e){return t.x==e.x&&t.y==e.y},movesAvailable:function(){return this.grid.cellsAvailable()||this.tileMatchesAvailable()},tileMatchesAvailable:function(){for(var t,e=0;e<this.size;e++)for(var a=0;a<this.size;a++)if(t=this.grid.cellContent({x:e,y:a}),t)for(var n=1;n<=4;n++){var i=this.getVector(n),r={x:e+i.x,y:a+i.y},o=this.grid.cellContent(r);if(o&&o.value===t.value)return!0}},actuate:function(){return{grids:this.grid.cells,over:this.over,score:this.score,won:this.won}}},t.exports=r},"2b5b":function(t,e,a){"use strict";a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return i})),a.d(e,"a",(function(){}));var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-uni-view",{staticClass:"container"},[a("v-uni-view",{staticClass:"game-body"},[a("v-uni-view",{staticClass:"heading"},[a("v-uni-text",{staticClass:"title"},[t._v("2048")]),a("v-uni-view",{staticClass:"scores-container"},[a("v-uni-view",{staticClass:"score-container"},[t._v(t._s(t.score))]),a("v-uni-view",{staticClass:"best-container"},[t._v(t._s(t.highscore||0))])],1)],1),a("v-uni-view",{staticClass:"above-game"},[a("v-uni-text",{staticClass:"game-intro"},[t._v("你能拿到2048吗？")]),a("v-uni-text",{staticClass:"restart-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.restart.apply(void 0,arguments)}}},[t._v("新游戏")])],1),a("v-uni-view",{staticClass:"game-container"},[a("v-uni-view",{staticClass:"game-message",class:t.won?"game-won":""},[a("v-uni-text",{staticClass:"over-msg"},[t._v(t._s(t.dataMsg))]),a("v-uni-view",{staticClass:"lower"},[a("v-uni-text",{staticClass:"retry-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.restart.apply(void 0,arguments)}}},[t._v("再试一次")])],1)],1),a("v-uni-view",{staticClass:"game-message",class:t.over?"game-over":""},[a("v-uni-text",{staticClass:"over-msg"},[t._v(t._s(t.dataMsg))]),a("v-uni-view",{staticClass:"lower"},[a("v-uni-text",{staticClass:"retry-button",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.restart.apply(void 0,arguments)}}},[t._v("再试一次")])],1)],1),a("v-uni-view",{staticClass:"grid-container",on:{touchstart:function(e){arguments[0]=e=t.$handleEvent(e),t.touchStart.apply(void 0,arguments)},touchmove:function(e){arguments[0]=e=t.$handleEvent(e),t.touchMove.apply(void 0,arguments)},touchend:function(e){arguments[0]=e=t.$handleEvent(e),t.touchEnd.apply(void 0,arguments)}}},t._l(t.grids,(function(e){return a("v-uni-view",{staticClass:"grid-row"},t._l(e,(function(e){return a("v-uni-view",{staticClass:"grid-cell"},[a("v-uni-view",{class:null!=e?"tile tile-"+e.value:""},[e?a("v-uni-view",{staticClass:"tile-inner"},[t._v(t._s(e.value))]):t._e()],1)],1)})),1)})),1)],1)],1)],1)},i=[]},"373e":function(t,e,a){var n=a("4525");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("40b3ee21",n,!0,{sourceMap:!1,shadowMode:!1})},4525:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,'.container[data-v-09798ecb]{margin:0;padding:20px 0;background:#faf8ef;color:#776e65;font-family:Helvetica Neue,Arial,sans-serif;font-size:18px}.heading[data-v-09798ecb]:after{content:"";display:block;clear:both}.title[data-v-09798ecb]{font-size:80px;font-weight:700;margin:0;display:block;float:left}.scores-container[data-v-09798ecb]{float:right;text-align:right}.score-container[data-v-09798ecb], .best-container[data-v-09798ecb]{position:relative;display:inline-block;background:#bbada0;padding:15px 25px;font-size:25px;height:52px;line-height:47px;font-weight:700;border-radius:3px;color:#fff;text-align:center;margin:8px 0 0 8px}.score-container[data-v-09798ecb]:after, .best-container[data-v-09798ecb]:after{position:absolute;width:100%;top:10px;left:0;text-transform:uppercase;font-size:13px;line-height:13px;text-align:center;color:#eee4da}.score-container .score-addition[data-v-09798ecb], .best-container .score-addition[data-v-09798ecb]{position:absolute;right:30px;color:red;font-size:25px;line-height:25px;font-weight:700;color:rgba(119,110,101,.9);z-index:100}.score-container[data-v-09798ecb]:after{content:"Score"}.best-container[data-v-09798ecb]:after{content:"Best"}p[data-v-09798ecb]{margin-top:0;margin-bottom:10px;line-height:1.65}a[data-v-09798ecb]{color:#776e65;font-weight:700;text-decoration:underline;cursor:pointer}strong.important[data-v-09798ecb]{text-transform:uppercase}hr[data-v-09798ecb]{border:none;border-bottom:1px solid #d8d4d0;margin-top:20px;margin-bottom:30px}.game-container[data-v-09798ecb]{margin-top:40px;position:relative;padding:15px;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:6px;width:500px;height:500px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;margin:0 auto}.game-container .game-message[data-v-09798ecb]{\n  /*display: none;*/position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,.5);z-index:100;text-align:center}.game-container .game-message p[data-v-09798ecb]{font-size:60px;font-weight:700;height:60px;line-height:60px;margin-top:222px}.game-container .game-message .lower[data-v-09798ecb]{display:block;margin-top:59px}.game-container .game-message a[data-v-09798ecb]{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;margin-left:9px}.game-container .game-message .keep-playing-button[data-v-09798ecb]{display:none}.game-container .game-message.game-won[data-v-09798ecb]{background:rgba(237,194,46,.5);color:#f9f6f2}.game-container .game-message.game-won .keep-playing-button[data-v-09798ecb]{display:inline-block}.game-container .game-message.game-won[data-v-09798ecb], .game-container .game-message.game-over[data-v-09798ecb]{display:block}.grid-container[data-v-09798ecb]{position:absolute;z-index:1}.grid-row[data-v-09798ecb]{margin-bottom:15px}.grid-row[data-v-09798ecb]:last-child{margin-bottom:0}.grid-row[data-v-09798ecb]:after{content:"";display:block;clear:both}.grid-cell[data-v-09798ecb]{width:106.25px;height:106.25px;margin-right:15px;float:left;border-radius:3px;background:rgba(238,228,218,.35)}.grid-cell[data-v-09798ecb]:last-child{margin-right:0}.tile-container[data-v-09798ecb]{position:absolute;z-index:2}.tile[data-v-09798ecb], .tile .tile-inner[data-v-09798ecb]{width:107px;height:107px;line-height:107px}.tile.tile-position-1-1[data-v-09798ecb]{-webkit-transform:translate(0);-moz-transform:translate(0);-ms-transform:translate(0);transform:translate(0)}.tile.tile-position-1-2[data-v-09798ecb]{-webkit-transform:translateY(121px);-moz-transform:translateY(121px);-ms-transform:translateY(121px);transform:translateY(121px)}.tile.tile-position-1-3[data-v-09798ecb]{-webkit-transform:translateY(242px);-moz-transform:translateY(242px);-ms-transform:translateY(242px);transform:translateY(242px)}.tile.tile-position-1-4[data-v-09798ecb]{-webkit-transform:translateY(363px);-moz-transform:translateY(363px);-ms-transform:translateY(363px);transform:translateY(363px)}.tile.tile-position-2-1[data-v-09798ecb]{-webkit-transform:translate(121px);-moz-transform:translate(121px);-ms-transform:translate(121px);transform:translate(121px)}.tile.tile-position-2-2[data-v-09798ecb]{-webkit-transform:translate(121px,121px);-moz-transform:translate(121px,121px);-ms-transform:translate(121px,121px);transform:translate(121px,121px)}.tile.tile-position-2-3[data-v-09798ecb]{-webkit-transform:translate(121px,242px);-moz-transform:translate(121px,242px);-ms-transform:translate(121px,242px);transform:translate(121px,242px)}.tile.tile-position-2-4[data-v-09798ecb]{-webkit-transform:translate(121px,363px);-moz-transform:translate(121px,363px);-ms-transform:translate(121px,363px);transform:translate(121px,363px)}.tile.tile-position-3-1[data-v-09798ecb]{-webkit-transform:translate(242px);-moz-transform:translate(242px);-ms-transform:translate(242px);transform:translate(242px)}.tile.tile-position-3-2[data-v-09798ecb]{-webkit-transform:translate(242px,121px);-moz-transform:translate(242px,121px);-ms-transform:translate(242px,121px);transform:translate(242px,121px)}.tile.tile-position-3-3[data-v-09798ecb]{-webkit-transform:translate(242px,242px);-moz-transform:translate(242px,242px);-ms-transform:translate(242px,242px);transform:translate(242px,242px)}.tile.tile-position-3-4[data-v-09798ecb]{-webkit-transform:translate(242px,363px);-moz-transform:translate(242px,363px);-ms-transform:translate(242px,363px);transform:translate(242px,363px)}.tile.tile-position-4-1[data-v-09798ecb]{-webkit-transform:translate(363px);-moz-transform:translate(363px);-ms-transform:translate(363px);transform:translate(363px)}.tile.tile-position-4-2[data-v-09798ecb]{-webkit-transform:translate(363px,121px);-moz-transform:translate(363px,121px);-ms-transform:translate(363px,121px);transform:translate(363px,121px)}.tile.tile-position-4-3[data-v-09798ecb]{-webkit-transform:translate(363px,242px);-moz-transform:translate(363px,242px);-ms-transform:translate(363px,242px);transform:translate(363px,242px)}.tile.tile-position-4-4[data-v-09798ecb]{-webkit-transform:translate(363px,363px);-moz-transform:translate(363px,363px);-ms-transform:translate(363px,363px);transform:translate(363px,363px)}.tile[data-v-09798ecb]{position:absolute;-webkit-transition:.1s ease-in-out;-moz-transition:.1s ease-in-out;transition:.1s ease-in-out;-webkit-transition-property:-webkit-transform;-moz-transition-property:-moz-transform;transition-property:-webkit-transform;transition-property:transform;transition-property:transform,-webkit-transform}.tile .tile-inner[data-v-09798ecb]{border-radius:3px;background:#eee4da;text-align:center;font-weight:700;z-index:10;font-size:55px}.tile.tile-2 .tile-inner[data-v-09798ecb]{background:#eee4da;box-shadow:0 0 30px 10px rgba(243,215,116,0),inset 0 0 0 1px hsla(0,0%,100%,0)}.tile.tile-4 .tile-inner[data-v-09798ecb]{background:#ede0c8;box-shadow:0 0 30px 10px rgba(243,215,116,0),inset 0 0 0 1px hsla(0,0%,100%,0)}.tile.tile-8 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#f2b179}.tile.tile-16 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#f59563}.tile.tile-32 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#f67c5f}.tile.tile-64 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#f65e3b}.tile.tile-128 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#edcf72;box-shadow:0 0 30px 10px rgba(243,215,116,.2381),inset 0 0 0 1px hsla(0,0%,100%,.14286);font-size:45px}@media screen and (max-width:520px){.tile.tile-128 .tile-inner[data-v-09798ecb]{font-size:25px}}.tile.tile-256 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#edcc61;box-shadow:0 0 30px 10px rgba(243,215,116,.31746),inset 0 0 0 1px hsla(0,0%,100%,.19048);font-size:45px}@media screen and (max-width:520px){.tile.tile-256 .tile-inner[data-v-09798ecb]{font-size:25px}}.tile.tile-512 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#edc850;box-shadow:0 0 30px 10px rgba(243,215,116,.39683),inset 0 0 0 1px hsla(0,0%,100%,.2381);font-size:45px}@media screen and (max-width:520px){.tile.tile-512 .tile-inner[data-v-09798ecb]{font-size:25px}}.tile.tile-1024 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#edc53f;box-shadow:0 0 30px 10px rgba(243,215,116,.47619),inset 0 0 0 1px hsla(0,0%,100%,.28571);font-size:35px}@media screen and (max-width:520px){.tile.tile-1024 .tile-inner[data-v-09798ecb]{font-size:15px}}.tile.tile-2048 .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#edc22e;box-shadow:0 0 30px 10px rgba(243,215,116,.55556),inset 0 0 0 1px hsla(0,0%,100%,.33333);font-size:35px}@media screen and (max-width:520px){.tile.tile-2048 .tile-inner[data-v-09798ecb]{font-size:15px}}.tile.tile-super .tile-inner[data-v-09798ecb]{color:#f9f6f2;background:#3c3a32;font-size:30px}@media screen and (max-width:520px){.tile.tile-super .tile-inner[data-v-09798ecb]{font-size:10px}}.tile-merged .tile-inner[data-v-09798ecb]{z-index:20}.above-game[data-v-09798ecb]:after{content:"";display:block;clear:both}.game-intro[data-v-09798ecb]{float:left;line-height:42px;margin-bottom:0}.restart-button[data-v-09798ecb]{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;display:block;text-align:center;float:right}.game-explanation[data-v-09798ecb]{margin-top:50px}@media screen and (max-width:520px){html[data-v-09798ecb], body[data-v-09798ecb]{font-size:15px}\n  /* body {\n    margin: 20px 0;\n    padding: 0 20px;\n  } */.title[data-v-09798ecb]{font-size:27px;margin-top:15px}.container[data-v-09798ecb]{width:100%;margin:0 auto;min-width:280px}.score-container[data-v-09798ecb], .best-container[data-v-09798ecb]{margin-top:0;padding:15px 10px;min-width:75px}.heading[data-v-09798ecb]{margin-bottom:10px;padding:0 20px}.above-game[data-v-09798ecb]{padding:0 20px}.game-intro[data-v-09798ecb]{width:55%;display:block;box-sizing:border-box;line-height:2.65}.restart-button[data-v-09798ecb]{width:42%;padding:0;display:block;box-sizing:border-box;margin-top:2px}.game-container[data-v-09798ecb]{margin-top:17px;position:relative;padding:10px;cursor:default;-webkit-touch-callout:none;-ms-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-ms-touch-action:none;touch-action:none;background:#bbada0;border-radius:6px;width:280px;height:280px;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.game-container .game-message[data-v-09798ecb]{display:none;position:absolute;top:0;right:0;bottom:0;left:0;background:rgba(238,228,218,.5);z-index:100;text-align:center}.game-container .game-message .over-msg[data-v-09798ecb]{display:block;font-size:30px;font-weight:700;height:30px;line-height:30px;\n    /*margin-top: 222px;*/margin-top:59px}.game-container .game-message .lower[data-v-09798ecb]{display:block;margin-top:59px}.game-container .game-message .retry-button[data-v-09798ecb]{display:inline-block;background:#8f7a66;border-radius:3px;padding:0 20px;text-decoration:none;color:#f9f6f2;height:40px;line-height:42px;margin-left:9px}.game-container .game-message .keep-playing-button[data-v-09798ecb]{display:none}.game-container .game-message.game-won[data-v-09798ecb]{background:rgba(237,194,46,.5);color:#f9f6f2}.game-container .game-message.game-won .keep-playing-button[data-v-09798ecb]{display:inline-block}.game-container .game-message.game-won[data-v-09798ecb], .game-container .game-message.game-over[data-v-09798ecb]{display:block}.grid-container[data-v-09798ecb]{position:absolute;z-index:1}.grid-row[data-v-09798ecb]{margin-bottom:10px}.grid-row[data-v-09798ecb]:last-child{margin-bottom:0}.grid-row[data-v-09798ecb]:after{content:"";display:block;clear:both}.grid-cell[data-v-09798ecb]{width:57.5px;height:57.5px;margin-right:10px;float:left;border-radius:3px;background:rgba(238,228,218,.35)}.grid-cell[data-v-09798ecb]:last-child{margin-right:0}.tile[data-v-09798ecb], .tile .tile-inner[data-v-09798ecb]{width:58px;height:58px;line-height:58px}.tile.tile-position-1-1[data-v-09798ecb]{-webkit-transform:translate(0);-moz-transform:translate(0);-ms-transform:translate(0);transform:translate(0)}.tile.tile-position-1-2[data-v-09798ecb]{-webkit-transform:translateY(67px);-moz-transform:translateY(67px);-ms-transform:translateY(67px);transform:translateY(67px)}.tile.tile-position-1-3[data-v-09798ecb]{-webkit-transform:translateY(135px);-moz-transform:translateY(135px);-ms-transform:translateY(135px);transform:translateY(135px)}.tile.tile-position-1-4[data-v-09798ecb]{-webkit-transform:translateY(202px);-moz-transform:translateY(202px);-ms-transform:translateY(202px);transform:translateY(202px)}.tile.tile-position-2-1[data-v-09798ecb]{-webkit-transform:translate(67px);-moz-transform:translate(67px);-ms-transform:translate(67px);transform:translate(67px)}.tile.tile-position-2-2[data-v-09798ecb]{-webkit-transform:translate(67px,67px);-moz-transform:translate(67px,67px);-ms-transform:translate(67px,67px);transform:translate(67px,67px)}.tile.tile-position-2-3[data-v-09798ecb]{-webkit-transform:translate(67px,135px);-moz-transform:translate(67px,135px);-ms-transform:translate(67px,135px);transform:translate(67px,135px)}.tile.tile-position-2-4[data-v-09798ecb]{-webkit-transform:translate(67px,202px);-moz-transform:translate(67px,202px);-ms-transform:translate(67px,202px);transform:translate(67px,202px)}.tile.tile-position-3-1[data-v-09798ecb]{-webkit-transform:translate(135px);-moz-transform:translate(135px);-ms-transform:translate(135px);transform:translate(135px)}.tile.tile-position-3-2[data-v-09798ecb]{-webkit-transform:translate(135px,67px);-moz-transform:translate(135px,67px);-ms-transform:translate(135px,67px);transform:translate(135px,67px)}.tile.tile-position-3-3[data-v-09798ecb]{-webkit-transform:translate(135px,135px);-moz-transform:translate(135px,135px);-ms-transform:translate(135px,135px);transform:translate(135px,135px)}.tile.tile-position-3-4[data-v-09798ecb]{-webkit-transform:translate(135px,202px);-moz-transform:translate(135px,202px);-ms-transform:translate(135px,202px);transform:translate(135px,202px)}.tile.tile-position-4-1[data-v-09798ecb]{-webkit-transform:translate(202px);-moz-transform:translate(202px);-ms-transform:translate(202px);transform:translate(202px)}.tile.tile-position-4-2[data-v-09798ecb]{-webkit-transform:translate(202px,67px);-moz-transform:translate(202px,67px);-ms-transform:translate(202px,67px);transform:translate(202px,67px)}.tile.tile-position-4-3[data-v-09798ecb]{-webkit-transform:translate(202px,135px);-moz-transform:translate(202px,135px);-ms-transform:translate(202px,135px);transform:translate(202px,135px)}.tile.tile-position-4-4[data-v-09798ecb]{-webkit-transform:translate(202px,202px);-moz-transform:translate(202px,202px);-ms-transform:translate(202px,202px);transform:translate(202px,202px)}.tile .tile-inner[data-v-09798ecb]{font-size:35px}.game-message p[data-v-09798ecb]{font-size:30px!important;height:30px!important;line-height:30px!important;margin-top:90px!important}.game-message .lower[data-v-09798ecb]{margin-top:30px!important}}',""]),t.exports=e},4758:function(t,e){function a(t,e){this.x=t.x,this.y=t.y,this.value=e||2,this.previousPosition=null,this.mergedFrom=null}a.prototype={savePosition:function(){this.previousPosition={x:this.x,y:this.y}},updatePosition:function(t){this.x=t.x,this.y=t.y}},t.exports=a},5965:function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;n(a("c174"));var i=n(a("2044")),r=(n(a("4758")),n(a("9b8e"))),o={data:function(){return{score:0,highscore:0,grids:[],touchStartX:0,touchStartY:0,touchEndX:0,touchEndY:0,isMultiple:!1,won:!1,over:!1,dataMsg:"游戏结束"}},onLoad:function(){this.game_manager=new i.default(4),this.grids=this.game_manager.setup(),uni.getstor,this.highscore=uni.getStorageSync("highScore")||0},methods:{restart:function(){this.updateView({grids:this.game_manager.restart(),score:0,won:!1,over:!1})},updateView:function(t){1==t.over&&(this.dataMsg="游戏结束"),1==t.won&&(this.dataMsg="恭喜"),this.grids=t.grids,this.score=t.score,this.highscore=t.highScore,this.won=t.won,this.over=t.over;for(var e=0;e<this.grids.length;e++)r.default.set(this.grids,e,t.grids[e])},touchStart:function(t){if(this.isMultiple=t.touches.length>1,!this.isMultiple){var e=t.touches[0];this.touchStartX=e.clientX,this.touchStartY=e.clientY}},touchMove:function(t){var e=t.touches[0];this.touchEndX=e.clientX,this.touchEndY=e.clientY},touchEnd:function(t){if(!this.isMultiple){var e=this.touchEndX-this.touchStartX,a=this.touchEndY-this.touchStartY,n=Math.abs(e),i=Math.abs(a);if(Math.max(n,i)>10){var r=n>i?e>0?1:3:a>0?2:4,o=this.game_manager.move(r);if(o){var s=uni.getStorageSync("highScore")||0;s=Math.max(s,o.score),uni.setStorageSync("highScore",s),this.updateView({grids:o.grids,score:o.score,highScore:s,won:o.won,over:o.over})}}}}}};e.default=o},"608c":function(t,e,a){"use strict";a.r(e);var n=a("2b5b"),i=a("d8ea");for(var r in i)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(r);a("a42d");var o=a("828b"),s=Object(o["a"])(i["default"],n["b"],n["c"],!1,null,"09798ecb",null,!1,n["a"],void 0);e["default"]=s.exports},a42d:function(t,e,a){"use strict";var n=a("373e"),i=a.n(n);i.a},c174:function(t,e,a){function n(t){this.size=t,this.cells=this.empty()}a("aa9c"),n.prototype={empty:function(){for(var t=[],e=0;e<this.size;e++)for(var a=t[e]=[],n=0;n<this.size;n++)a.push(null);return t},availableCells:function(){for(var t=[],e=0;e<this.size;e++)for(var a=0;a<this.size;a++)this.cells[e][a]||t.push({x:e,y:a});return t},cellsAvailable:function(){return!!this.availableCells().length},randomAvailableCell:function(){var t=this.availableCells();if(t.length)return t[Math.floor(Math.random()*t.length)]},insertTile:function(t){this.cells[t.x][t.y]=t},cellContent:function(t){return this.withinBounds(t)&&this.cells[t.x][t.y]||null},withinBounds:function(t){return t.x>=0&&t.x<this.size&&t.y>=0&&t.y<this.size},emptyCell:function(t){return!this.cellContent(t)},removeTile:function(t){this.cells[t.x][t.y]=null}},t.exports=n},d8ea:function(t,e,a){"use strict";a.r(e);var n=a("5965"),i=a.n(n);for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e["default"]=i.a}}]);