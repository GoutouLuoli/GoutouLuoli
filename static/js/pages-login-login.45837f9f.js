(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-login-login"],{"0a0b":function(n,e,i){i("5c47"),i("a1c1"),i("9db6"),i("5ef2"),n.exports={navigateBack:function(){uni.navigateBack({delta:1,fail:function(n){uni.switchTab({url:"/pages/index/index"})}})},jiangqie:function(){uni.navigateTo({url:"/pages/webview/webview"})},openLink:function(n){if(n)return n.startsWith("/pages/")?(n=function(n){var e="";return 0===n.length?"":(e=n.replace(/&amp;/g,"&"),e=e.replace(/&lt;/g,"<"),e=e.replace(/&gt;/g,">"),e=e.replace(/&nbsp;/g," "),e=e.replace(/&#39;/g,"'"),e=e.replace(/&quot;/g,'"'),e)}(n),void uni.navigateTo({url:n,fail:function(){uni.redirectTo({url:n})}})):void uni.navigateToMiniProgram({appId:n,fail:function(n){n.errMsg&&n.errMsg.indexOf("cancel")<0&&uni.showToast({icon:"none",title:n.errMsg})}})}}},"2c86":function(n,e,i){"use strict";var t=i("500c"),a=i.n(t);a.a},"500c":function(n,e,i){var t=i("6080");t.__esModule&&(t=t.default),"string"===typeof t&&(t=[[n.i,t,""]]),t.locals&&(n.exports=t.locals);var a=i("967d").default;a("982f17bc",t,!0,{sourceMap:!1,shadowMode:!1})},6080:function(n,e,i){var t=i("c86c");e=t(!1),e.push([n.i,".jiangqie-app-info[data-v-70385021]{padding:%?50?% %?40?%;text-align:center}.jiangqie-app-info uni-image[data-v-70385021]{height:%?200?%;width:%?200?%;border-radius:%?200?%}.jiangqie-app-name[data-v-70385021]{font-size:%?32?%;color:#fff;font-weight:500;line-height:%?80?%}.jiangqie-app-slogan[data-v-70385021]{font-size:%?28?%;color:#f8b8b8;font-weight:400;line-height:%?40?%}.jiangqie-login-btn[data-v-70385021]{margin-top:%?160?%;padding:%?0?% %?160?%}.jiangqie-login-btnl[data-v-70385021],\n.jiangqie-login-btnr[data-v-70385021]{height:%?80?%;font-size:%?30?%;color:#555;font-weight:400;border-radius:%?16?%;border:%?2?% solid #ddd;margin-top:%?30?%}.jiangqie-login-btnl[data-v-70385021]{color:#999;background:#fff}.jiangqie-no-login-tip[data-v-70385021]{margin-top:%?30?%;text-align:center;font-size:%?24?%;color:#999}.jiangqie-login-tip[data-v-70385021]{width:100%;position:fixed;bottom:%?100?%;line-height:2rem;text-align:center;font-size:%?22?%;color:#333}.jiangqie-login-tip uni-text.link[data-v-70385021]{color:#111;text-decoration:underline}",""]),n.exports=e},8940:function(n,e,i){"use strict";i.d(e,"b",(function(){return t})),i.d(e,"c",(function(){return a})),i.d(e,"a",(function(){}));var t=function(){var n=this,e=n.$createElement,i=n._self._c||e;return i("v-uni-view",{staticStyle:{background:"no-repeat","background-size":"100% auto"},style:n.background?"background-image: url("+n.background+");":""},[i("v-uni-view",{staticClass:"jiangqie-login"},[i("v-uni-view",{staticClass:"jiangqie-app-info"},[i("v-uni-image",{attrs:{src:"/static/images/default_avatar.jpg",mode:"aspectFill"}}),i("v-uni-view",{staticClass:"jiangqie-app-name"},[n._v(n._s(n.title))]),i("v-uni-view",{staticClass:"jiangqie-app-slogan"},[n._v(n._s("login"==n.type?"授权登录可查看更多内容":"绑定手机号后才能评论"))])],1),i("v-uni-view",{staticClass:"jiangqie-login-btn"},[i("v-uni-button",{staticClass:"jiangqie-login-btnl",on:{click:function(e){e.stopPropagation(),arguments[0]=e=n.$handleEvent(e),n.handlerCancelClick.apply(void 0,arguments)}}},[n._v("取消")]),"login"==n.type?[i("v-uni-button",{staticClass:"jiangqie-login-btnr",on:{click:function(e){e.stopPropagation(),arguments[0]=e=n.$handleEvent(e),n.clickLoginTest.apply(void 0,arguments)}}},[n._v("确定")]),i("v-uni-view",{staticClass:"jiangqie-no-login-tip"},[i("v-uni-view",[n._v("微信/百度/QQ已接入")]),i("v-uni-view",[n._v("当前平台尚未接入账号体系")]),i("v-uni-view",[n._v("登录仅为演示")])],1)]:n._e(),"mobile"==n.type?[n._v("该平台下的手机绑定功能暂未实现")]:n._e()],2)],1),"mobile"!=n.type?i("v-uni-view",{staticClass:"jiangqie-login-tip"},[i("v-uni-label",{on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.clickAgreeLicense.apply(void 0,arguments)}}},[i("v-uni-radio",{staticStyle:{transform:"scale(0.7)"},attrs:{checked:n.argeeLicense,color:"#ff4400"}}),n._v("我已阅读并同意")],1),i("v-uni-text",{staticClass:"link",on:{click:function(e){arguments[0]=e=n.$handleEvent(e),n.clickLink("/pages/login/ystk")}}},[n._v("《隐私条款及用户协议》")])],1):n._e()],1)},a=[]},"94b3":function(n,e,i){"use strict";i.r(e);var t=i("ec65"),a=i.n(t);for(var o in t)["default"].indexOf(o)<0&&function(n){i.d(e,n,(function(){return t[n]}))}(o);e["default"]=a.a},a32e:function(n,e){n.exports={JQ_DOMAIN:"kongjian.beidewu.cn"}},e2e2:function(n,e,i){var t=i("bdbb").default;i("bf0f");var a=i("2b7b");function o(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";return new Promise((function(t,o){uni.showLoading(),e.token=a.getToken(),"GET"==i&&(e.t=(new Date).getTime(),e.r=Math.floor(1e4*Math.random())),uni.request({url:n,data:e,method:i,success:function(n){200==n.statusCode?-1!=n.data.code?-11!=n.data.code?0!=n.data.code?o(n.data):t(n.data):uni.navigateTo({url:"/pages/login/login?type=mobile"}):uni.navigateTo({url:"/pages/login/login"}):o(n.errMsg)},fail:function(n){o(n)},complete:function(){uni.hideLoading()}})}))}n.exports={get:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(n,e,"GET")},post:function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o(n,e,"POST")},upload:function(n,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise((function(o,c){uni.showLoading({title:"上传中……"}),i.token=a.getToken(),uni.uploadFile({url:n,filePath:e,name:"image",formData:i,success:function(n){if(200==n.statusCode){var e=void 0;e=n.data instanceof String||"string"==t(n.data).toLowerCase()?JSON.parse(n.data):n.data,-1!=e.code?o(e):uni.navigateTo({url:"/pages/login/login"})}else c(n.errMsg)},fail:function(n){console.log(n)},complete:function(){uni.hideLoading()}})}))}}},e638:function(n,e,i){i("c223");var t=i("a32e");function a(n,e){return"https://".concat(t.JQ_DOMAIN,"/wp-json/jiangqie/v1/").concat(n,"/").concat(e)}n.exports={JIANGQIE_SETTING_HOME:a("setting","home"),JIANGQIE_SETTING_HOT:a("setting","hot"),JIANGQIE_SETTING_CATEGORY:a("setting","category"),JIANGQIE_SETTING_UCENTER:a("setting","ucenter"),JIANGQIE_SETTING_LOGIN:a("setting","login"),JIANGQIE_CATEGORY_INDEX:a("category","index"),JIANGQIE_POSTS_LAST:a("posts","last"),JIANGQIE_POSTS_CATEGORY:a("posts","category"),JIANGQIE_POSTS_TAG:a("posts","tag"),JIANGQIE_POSTS_HOT:a("posts","hot"),JIANGQIE_POSTS_SEARCH:a("posts","search"),JIANGQIE_POSTS_SEARCH_HOT:a("posts","search/hot"),JIANGQIE_POSTS_MY:a("posts","my"),JIANGQIE_POST_DETAIL:a("posts","detail"),JIANGQIE_POST_PAGE:a("posts","page"),JIANGQIE_POST_WX_ACODE:a("posts","wxacode"),JIANGQIE_POST_BD_ACODE:a("posts","bdacode"),JIANGQIE_POST_QQ_ACODE:a("posts","qqacode"),JIANGQIE_USER_LOGIN:a("user","login3"),JIANGQIE_USER_LOGIN_TEST:a("user","logintest"),JIANGQIE_USER_INDEX:a("user","index"),JIANGQIE_USER_LIKE:a("user","like"),JIANGQIE_USER_FAVORITE:a("user","favorite"),JIANGQIE_USER_SET_MOBILE:a("user","set_mobile"),JIANGQIE_USER_SET_INFO:a("user","set_info"),JIANGQIE_COMMENT_INDEX:a("comment","index"),JIANGQIE_COMMENT_ADD:a("comment","add"),JIANGQIE_COMMENT_DELETE:a("comment","delete"),JIANGQIE_OTHER_UPLOAD:a("other","upload")}},ec65:function(n,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=i("0a0b"),a=i("2b7b"),o=i("e638"),c=i("e2e2"),s={data:function(){return{type:"login",background:"",title:"",code:void 0,is_login_baidu:!1,argeeLicense:!1}},onLoad:function(n){var e=this;n.type&&(this.type=n.type);var i="login"==this.type?"登录":"绑定手机号";uni.setNavigationBarTitle({title:i}),this.title=getApp().globalData.appName,c.get(o.JIANGQIE_SETTING_LOGIN).then((function(n){e.background=n.data.background}))},onShareAppMessage:function(){return{title:getApp().globalData.appName,path:"pages/index/index"}},methods:{clickLink:function(n){t.openLink(n)},clickAgreeLicense:function(){this.argeeLicense=!this.argeeLicense},handlerCancelClick:function(n){t.navigateBack()},clickLoginTest:function(n){this.argeeLicense?c.get(o.JIANGQIE_USER_LOGIN_TEST,{}).then((function(n){a.setUser(n.data),t.navigateBack()}),(function(n){console.log(n)})):uni.showToast({icon:"none",title:"请阅读并同意《用户协议》及《隐私条款》"})},clickLogin:function(n){this.argeeLicense||uni.showToast({icon:"none",title:"请阅读并同意《用户协议》及《隐私条款》"})},baiduAppLogin:function(n){var e=this;n.detail.errCode||(this.is_login_baidu=!0,swan.getLoginCode({success:function(n){e.code=n.code}}))},login:function(n,e){var i={code:this.code,nickname:n,avatar:e};c.get(o.JIANGQIE_USER_LOGIN,i).then((function(n){a.setUser(n.data),n.data.first?uni.redirectTo({url:"/pages/verify/verify"}):t.navigateBack()}),(function(n){n.msg&&uni.showToast({icon:"none",title:n.msg})}))},getPhoneNumber:function(n){c.post(o.JIANGQIE_USER_SET_MOBILE,{encrypted_data:n.detail.encryptedData,iv:n.detail.iv,code:this.code}).then((function(n){uni.showToast({icon:"none",title:n.msg}),t.navigateBack()}))}}};e.default=s},fd33:function(n,e,i){"use strict";i.r(e);var t=i("8940"),a=i("94b3");for(var o in a)["default"].indexOf(o)<0&&function(n){i.d(e,n,(function(){return a[n]}))}(o);i("2c86");var c=i("828b"),s=Object(c["a"])(a["default"],t["b"],t["c"],!1,null,"70385021",null,!1,t["a"],void 0);e["default"]=s.exports}}]);