(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-article-article"],{"0956":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.GD=void 0;var n=a(i("3471"));i("9db6"),i("aa9c"),i("0c26"),i("20f3"),i("5c47"),i("2c10"),i("e838"),i("5ef2");var r={isGradient:function(t){return!(!t||!t.startsWith("linear")&&!t.startsWith("radial"))},doGradient:function(t,e,i,a){t.startsWith("linear")?function(t,e,i,a){for(var n=function(t,e,i){var a,n=t.match(/([-]?\d{1,3})deg/),r=n&&n[1]?parseFloat(n[1]):0;switch(r){case 0:a=[0,-i/2,0,i/2];break;case 90:a=[e/2,0,-e/2,0];break;case-90:a=[-e/2,0,e/2,0];break;case 180:a=[0,i/2,0,-i/2];break;case-180:a=[0,-i/2,0,i/2];break;default:var o=0,s=0,d=0,c=0;n[1]>0&&n[1]<90?(o=e/2-(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>-180&&n[1]<-90?(o=-e/2+(e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):n[1]>90&&n[1]<180?(o=e/2+(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c):(o=-e/2-(-e/2*Math.tan((90-n[1])*Math.PI*2/360)-i/2)*Math.sin(2*(90-n[1])*Math.PI*2/360)/2,c=Math.tan((90-n[1])*Math.PI*2/360)*o,d=-o,s=-c),a=[o,s,d,c];break}return a}(i,t,e),r=a.createLinearGradient(n[0],n[1],n[2],n[3]),s=i.match(/linear-gradient\((.+)\)/)[1],d=o(s.substring(s.indexOf(",")+1)),c=0;c<d.colors.length;c++)r.addColorStop(d.percents[c],d.colors[c]);a.setFillStyle(r)}(e,i,t,a):t.startsWith("radial")&&function(t,e,i,a){for(var n=o(i.match(/radial-gradient\((.+)\)/)[1]),r=a.createCircularGradient(0,0,t<e?e/2:t/2),s=0;s<n.colors.length;s++)r.addColorStop(n.percents[s],n.colors[s]);a.setFillStyle(r)}(e,i,t,a)}};function o(t){var e,i=t.substring(0,t.length-1).split("%,"),a=[],r=[],o=(0,n.default)(i);try{for(o.s();!(e=o.n()).done;){var s=e.value;a.push(s.substring(0,s.lastIndexOf(" ")).trim()),r.push(s.substring(s.lastIndexOf(" "),s.length)/100)}}catch(d){o.e(d)}finally{o.f()}return{colors:a,percents:r}}e.GD=r},1851:function(t,e,i){"use strict";var a=i("8bdb"),n=i("84d6"),r=i("1cb5");a({target:"Array",proto:!0},{fill:n}),r("fill")},"1adf":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.base64ToPath=u,e.compareVersion=function(t,e){t=t.split("."),e=e.split(".");var i=Math.max(t.length,e.length);while(t.length<i)t.push("0");while(e.length<i)e.push("0");for(var a=0;a<i;a++){var n=parseInt(t[a],10),r=parseInt(e[a],10);if(n>r)return 1;if(n<r)return-1}return 0},e.getImageInfo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise(function(){var a=(0,r.default)((0,n.default)().mark((function a(r,o){var c,h;return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(c=/^data:image\/(\w+);base64/,/^\.|^\/(?=[^\/])/,!s.test(t)||!e){a.next=6;break}return a.next=5,l(t);case 5:t=a.sent;case 6:if(!c.test(t)){a.next=16;break}if(d[t]){a.next=15;break}return h=t,a.next=11,u(t);case 11:t=a.sent,d[h]=t,a.next=16;break;case 15:t=d[t];case 16:d[t]&&d[t].errMsg&&!i?r(d[t]):uni.getImageInfo({src:t,success:function(e){e.path=e.path.replace(/^\./,window.location.origin),e.url=t,d[t]=e,r(d[t])},fail:function(e){r({path:t}),console.error("getImageInfo:fail ".concat(t," failed ").concat(JSON.stringify(e)))}});case 17:case"end":return a.stop()}}),a)})));return function(t,e){return a.apply(this,arguments)}}())},e.isNumber=c,e.pathToBase64=l,e.sleep=function(t){return new Promise((function(e){return setTimeout(e,t)}))},e.toPx=function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"===typeof e)return e;if(c(e))return 1*e;if("string"===typeof e){var n=/^-?([0-9]+)?([.]{1}[0-9]+){0,1}(em|rpx|px|%)$/g,r=n.exec(e);if(!e||!r)return 0;var o=r[3];e=parseFloat(e);var s=0;return"rpx"===o?s=uni.upx2px(e):"px"===o?s=1*e:"%"===o?s=e*t(i)/100:"em"===o&&(s=e*t(i||14)),a?1*s.toFixed(2):Math.round(s)}};var n=a(i("2634")),r=a(i("2fdc")),o=a(i("5de6"));i("bf0f"),i("5c47"),i("0506"),i("e838"),i("aa9c"),i("e966"),i("80e3"),i("4db2"),i("5ef2"),i("c976"),i("4d8f"),i("7b97"),i("668a"),i("c5b7"),i("8ff5"),i("2378"),i("641a"),i("64e0"),i("cce3"),i("efba"),i("d009"),i("bd7d"),i("7edd"),i("d798"),i("f547"),i("5e54"),i("b60a"),i("8c18"),i("12973"),i("f991"),i("198e"),i("8557"),i("63b1"),i("1954"),i("1cf1"),i("a1c1"),i("c9b5"),i("15d1"),i("d5c6"),i("5a56"),i("f074"),i("18f7"),i("de6c"),i("dc89"),i("2425"),i("d4b5"),i("7a76"),i("c223");var s=/^(http|\/\/)/;var d={};function c(t){return/^-?\d+(\.\d+)?$/.test(t)}function u(t){var e=/data:image\/(\w+);base64,(.*)/.exec(t)||[],i=(0,o.default)(e,3);i[1],i[2];return new Promise((function(e,i){for(var a=t.split(",")[0].split(":")[1].split(";")[0],n=atob(t.split(",")[1]),r=new ArrayBuffer(n.length),o=new Uint8Array(r),s=0;s<n.length;s++)o[s]=n.charCodeAt(s);e(URL.createObjectURL(new Blob([o],{type:a})))}))}function l(t){return new Promise((function(e,i){var a=function(){var a=new Image;a.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(a,0,0);var i=t.toDataURL("image/png");e(i),t.height=t.width=0},a.src=t,a.setAttribute("crossOrigin","Anonymous"),a.src=t,a.onerror=function(e){console.error("urlToBase64 error: ".concat(t),JSON.stringify(e)),i(new Error("urlToBase64 error"))}},n=function(t){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.readAsDataURL(t),a.onerror=function(t){console.error("blobToBase64 error:",JSON.stringify(t)),i(new Error("blobToBase64 error"))}},r="function"===typeof FileReader;if(s.test(t)&&r){window.URL=window.URL||window.webkitURL;var o=new XMLHttpRequest;o.open("get",t,!0),o.timeout=2e3,o.responseType="blob",o.onload=function(){200==this.status?n(this.response):a()},o.onreadystatechange=function(){0===this.status&&console.error("图片跨域了，得后端处理咯")},o.send()}else/^blob/.test(t)&&r?n(t):a()}))}},2541:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Layout=void 0,i("d4b5"),i("aa9c"),i("bf0f"),i("dc8a"),i("5c47"),i("0506"),i("fd3c"),i("2c10"),i("a1c1"),i("4626"),i("5ac7");var n=a(i("fcf3")),r=a(i("5de6")),o=a(i("39d8")),s=a(i("2634")),d=a(i("2fdc")),c=a(i("80b1")),u=a(i("efe5")),l=i("1adf"),h=function(){function t(){(0,c.default)(this,t),this.layoutHeight=0,this.layoutWidth=0,this.uuid=0}return(0,u.default)(t,[{key:"init",value:function(t,e,i){this.ctx=t,this.root=e,this.layoutWidth=e.width||0,this.layoutHeight=e.height||0,this.uuid=0,this.isH5PathToBase64=i}},{key:"getNodeTree",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){var i,a,n,r,o,d,c,u,l,h,f,v,p,g,m,b,x,w,y=arguments;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=y.length>1&&void 0!==y[1]?y[1]:{},a=y.length>2&&void 0!==y[2]?y[2]:0,n=y.length>3&&void 0!==y[3]?y[3]:[],r=y.length>4?y[4]:void 0,o=Object.assign({},this.getComputedStyle(e,i,a)),t.next=7,this.getAttributes(e);case 7:if(d=t.sent,c={id:this.uuid++,parent:i,computedStyle:o,rules:e.rules,attributes:Object.assign({},d),name:(null===e||void 0===e?void 0:e.type)||"view",isRoot:!(null!==e&&void 0!==e&&e.type)&&"{}"==JSON.stringify(i)},"{}"!==JSON.stringify(i)||e.type?c.layoutBox=Object.assign({left:0,top:0},this.getLayoutBox(c,i,a,n,r)):(u=o.left,l=void 0===u?0:u,h=o.top,f=void 0===h?0:h,v=o.width,p=void 0===v?0:v,g=o.height,m=void 0===g?0:g,c.layoutBox={left:l,top:f,width:p,height:m}),null===e||void 0===e||!e.views){t.next=25;break}b=[],c.children=[],x=0;case 14:if(!(x<e.views.length)){t.next=24;break}return w=e.views[x],t.t0=b,t.next=19,this.getNodeTree(w,c,x,b,e);case 19:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 21:x++,t.next=14;break;case 24:c.children=b;case 25:return t.abrupt("return",c);case 26:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getComputedStyle",value:function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={},s=t.name||t.type,d="{}"!=JSON.stringify(i)||s?t.css:t;if(!d)return a;var c=["color","fontSize","lineHeight","verticalAlign","fontWeight","textAlign"];i.computedStyle&&c.forEach((function(t){(d[t]||i.computedStyle[t])&&(d[t]=d[t]||i.computedStyle[t])}));for(var u=function(){var t=f[h],c=d[t];if("views"==t)return"continue";if(/^(box)?shadow$/i.test(t)){var u=c.split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t):t}));return a.boxShadow=u,"continue"}if(/^border/i.test(t)&&!/radius$/i.test(t)){var v,p=t.match(/^border([BTRLa-z]+)?/)[0],g=t.match(/[W|S|C][a-z]+/),m=c.replace(/([\(,])\s+|\s+([\),])/g,"$1$2").split(" ").map((function(t){return/^\d/.test(t)?(0,l.toPx)(t,"",!0):t}));return a[p]=(v={},(0,o.default)(v,p+"Width",((0,l.isNumber)(m[0])?m[0]:0)||1),(0,o.default)(v,p+"Style",m[1]||"solid"),(0,o.default)(v,p+"Color",m[2]||"black"),v),1==m.length&&g&&(a[p][p+g[0]]=m[0]),"continue"}if(/^background(color)?$/i.test(t))return a["backgroundColor"]=c,"continue";if(/padding|margin|radius/i.test(t)){var b=/radius$/i.test(t),x=b?"borderRadius":t.match(/[a-z]+/)[0],w=[0,0,0,0].map((function(t,e){return b?["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"][e]:[x+"Top",x+"Right",x+"Bottom",x+"Left"][e]}));if("padding"===t||"margin"===t||/^(border)?radius$/i.test(t)){var y,_=(null===c||void 0===c?void 0:c.split(" ").map((function(t){return/^\d/.test(t)&&(0,l.toPx)(t,d["width"])}),[]))||[0],k=b?"borderRadius":t,j=(0,r.default)(_,4),C=j[0],P=j[1],q=j[2],T=j[3];a[k]=(y={},(0,o.default)(y,w[0],C),(0,o.default)(y,w[1],(0,l.isNumber)(P)?P:C),(0,o.default)(y,w[2],(0,l.isNumber)(q)?q:C),(0,o.default)(y,w[3],(0,l.isNumber)(T)?T:P||C),y)}else{var I;if("object"===(0,n.default)(a[x]))a[x][t]=(0,l.toPx)(c,d["width"]);else a[x]=(I={},(0,o.default)(I,w[0],a[x]||0),(0,o.default)(I,w[1],a[x]||0),(0,o.default)(I,w[2],a[x]||0),(0,o.default)(I,w[3],a[x]||0),I),a[x][t]=(0,l.toPx)(c,d["width"])}return"continue"}if(/^(width|height)$/i.test(t))return/%$/.test(c)?a[t]=(0,l.toPx)(c,i.layoutBox[t]):a[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):c,"continue";if(/^transform$/i.test(t))return a[t]={},c.replace(/([a-zA-Z]+)\(([0-9,-\.%rpxdeg\s]+)\)/g,(function(e,i,n){var r=n.split(",").map((function(t){return t.replace(/(^\s*)|(\s*$)/g,"")})),o=function(t,e){return t.includes("deg")?1*t:e&&!/%$/.test(e)?(0,l.toPx)(t,e):t};i.includes("matrix")?a[t][i]=r.map((function(t){return 1*t})):i.includes("rotate")?a[t][i]=1*n.match(/^-?\d+(\.\d+)?/)[0]:/[X, Y]/.test(i)?a[t][i]=/[X]/.test(i)?o(r[0],d["width"]):o(r[0],d["height"]):(a[t][i+"X"]=o(r[0],d["width"]),a[t][i+"Y"]=o(r[1]||r[0],d["height"]))})),"continue";if(/^transformOrigin/i.test(t))return a[t]=c,"continue";if(/%/.test(c)){var S=i.layoutBox,O=S.width,M=S.height,L=(S.left,S.top,e.root),E=L.width,N=L.height;a.position;a[t]="width"==t?(0,l.toPx)(c,O||E):"height"==t?(0,l.toPx)(c,M||N):"left"==t||"top"==t?c:(0,l.toPx)(c,d["width"])}else a[t]=/px|rpx$/.test(c)?(0,l.toPx)(c):/em$/.test(c)&&"text"==s?(0,l.toPx)(c,d["fontSize"]):c},h=0,f=Object.keys(d);h<f.length;h++)u();return/image/.test(t.name||t.type)&&!a.mode&&(a.mode=t.mode||"scaleToFill",d.width&&"auto"!=d.width||d.height&&"auto"!=d.width||(a.mode="")),a}},{key:"getLayoutBox",value:function(t){var e,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o={},s=t||{},d=s.name,c=s.computedStyle,u=(s.layoutBox,s.attributes);s.isRoot;if(!d)return o;var h=this.ctx,f=a.layoutBox,v=void 0===f?this.root:f,p=a.computedStyle,g=c.verticalAlign,m=c.left,b=c.top,x=c.width,w=c.height,y=c.fontSize,_=void 0===y?14:y,k=c.lineHeight,j=void 0===k?"1.4em":k,C=c.maxLines,P=c.fontWeight,q=c.fontFamily,T=c.textStyle,I=c.position,S=c.display,O=c.padding,M=void 0===O?{}:O,L=c.margin,E=void 0===L?{}:L,N=M.paddingTop,R=void 0===N?0:N,F=M.paddingRight,B=void 0===F?0:F,z=M.paddingBottom,$=void 0===z?0:z,A=M.paddingLeft,D=void 0===A?0:A,H=E.marginTop,W=void 0===H?0:H,G=E.marginRight,J=void 0===G?0:G,U=E.marginBottom,Q=void 0===U?0:U,X=E.marginLeft,Y=void 0===X?0:X,V=r[n-1]||{},K=V.layoutBox,Z=V.computedStyle,tt=V.name,et=r[n+1]||{},it=et.layoutBox,at=(et.computedStyle,et.name,(null===Z||void 0===Z||null===(e=Z.margin)||void 0===e?void 0:e.marginBottom)||0),nt=(null===Z||void 0===Z||null===(i=Z.margin)||void 0===i?void 0:i.marginRight)||0;if(/%$/.test(m)&&(m=(0,l.toPx)(m,v.width)),/%$/.test(b)&&(b=(0,l.toPx)(b,v.height)),"relative"==I&&(m+=v.left,b+=v.top),"text"===d){var rt=u.text||"";j=(0,l.toPx)(j,_),h.save(),h.setFonts({fontFamily:q,fontSize:_,fontWeight:P,textStyle:T});var ot=0==n,st="inlineBlock"===S,dt="block"===S||"block"===(null===Z||void 0===Z?void 0:Z.display),ct=ot&&!it||!(null!==a&&void 0!==a&&a.id),ut=ot||dt?0:K.offsetRight||0,lt=rt.split("\n"),ht=1,ft="",vt=c.textIndent||0;ct||st?(ft=rt,ht=Math.max(lt.length,Math.ceil(h.measureText(rt,_).width/((x||v.width)-h.measureText("!",_).width/2)))):lt.map((function(t,e){ht+=e;for(var i=t.split(""),a=0;a<i.length;a++){var n=i[a],r=ft+n,o=h.measureText(r,_).width;1==ht&&(o=o+(dt?0:ut)+vt),o>(x||v.width)?(ht++,ft=n):ft=r}})),st||(o.offsetLeft=((0,l.isNumber)(m)||dt||ct?vt:ut)+D+Y),o.offsetTop=R;var pt=h.measureText(ft,_).width,gt=(ht>1?v.width:pt+((null===o||void 0===o?void 0:o.offsetLeft)||0))+B;st||(o.offsetRight=(m||0)+o.offsetLeft+(x||(dt?v.width:pt))+B+J);var mt=K?K.left+K.width:0,bt=function(){return st?(mt+gt>v.width||ot?v.left:mt+nt)+Y:m||v.left},xt=function(){return st?gt+D+B:x||(!ct||dt?v.width:gt>v.width-o.left||ht>1?v.width-o.left:gt)},wt=function(){return w||(ht>1?(C||ht)*j+R+$:j+R+$)},yt=function(){var t=b;return t||(t=ot?v.top:1==ht&&gt<v.width&&"text"===tt&&!dt&&!st||K.width<v.width&&!(st&&mt+gt>v.width)?K.top:K.top+K.height-((null===a||void 0===a?void 0:a.id)&&((null===Z||void 0===Z?void 0:Z.lineHeight)||0))),"bottom"===g&&(t=v.top+(v.height-o.height||0)),"middle"===g&&(t=v.top+(v.height?(v.height-o.height||0)/2:0)),t+W+(dt&&(null===Z||void 0===Z?void 0:Z.lineHeight)||0)+(mt+gt>v.width?at:0)};o.left=bt(),o.width=xt(),o.height=wt(),o.top=yt(),p&&!p.height&&(v.height=o.top-v.top+o.height),h.restore()}else if(["view","qrcode"].includes(d))o.left=(m||v.left)+Y-J,o.width=(x||(null===v||void 0===v?void 0:v.width))-D-B,o.height=w||0,(0,l.isNumber)(b)?o.top=b+W:o.top=(K&&K.top+K.height||v.top)+W+at;else if("image"===d){var _t=u.width,kt=u.height,jt=K&&K.left+K.width;if((0,l.isNumber)(m)?o.left=m+Y-J:o.left=(K&&(jt<v.width?jt:v.left)||v.left)+Y-J,(0,l.isNumber)(x)?o.width=x:o.width=Math.round((0,l.isNumber)(w)?_t*w/kt:null===v||void 0===v?void 0:v.width),(0,l.isNumber)(w))o.height=w;else{var Ct=Math.round(o.width*kt/_t);o.height=Math.min(Ct,null===v||void 0===v?void 0:v.height)}(0,l.isNumber)(b)?o.top=b+W:o.top=(K&&(jt<v.width?jt:K.top+K.height)||v.top)+W+at}return o.top+o.height+Q>this.layoutHeight&&(this.layoutHeight=o.top+o.height+Q),o}},{key:"getAttributes",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){var i,a,n,r,o,d,c,u;return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={},!(null!==e&&void 0!==e&&e.url||null!==e&&void 0!==e&&e.src)){t.next=16;break}return i.src=e.url||(null===e||void 0===e?void 0:e.src),t.next=5,(0,l.getImageInfo)(i.src,this.isH5PathToBase64);case 5:if(t.t0=t.sent,t.t0){t.next=8;break}t.t0={};case 8:a=t.t0,n=a.width,r=void 0===n?0:n,o=a.height,d=void 0===o?0:o,c=a.path,u=a.url,i=Object.assign({},i,{width:r,height:d,src:c,url:u});case 16:return null!==e&&void 0!==e&&e.text&&(i.text=e.text),t.abrupt("return",i);case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"calcNode",value:function(){var t=(0,d.default)((0,s.default)().mark((function t(e){return(0,s.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getNodeTree(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}();e.Layout=h},2634:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
e.default=function(){return t};var t={},i=Object.prototype,n=i.hasOwnProperty,r=Object.defineProperty||function(t,e,i){t[e]=i.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",d=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,i){return Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(S){u=function(t,e,i){return t[e]=i}}function l(t,e,i,a){var n=e&&e.prototype instanceof v?e:v,o=Object.create(n.prototype),s=new q(a||[]);return r(o,"_invoke",{value:k(t,i,s)}),o}function h(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(S){return{type:"throw",arg:S}}}t.wrap=l;var f={};function v(){}function p(){}function g(){}var m={};u(m,s,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(T([])));x&&x!==i&&n.call(x,s)&&(m=x);var w=g.prototype=v.prototype=Object.create(m);function y(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){var i;r(this,"_invoke",{value:function(r,o){function s(){return new e((function(i,s){(function i(r,o,s,d){var c=h(t[r],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==(0,a.default)(l)&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){i("next",t,s,d)}),(function(t){i("throw",t,s,d)})):e.resolve(l).then((function(t){u.value=t,s(u)}),(function(t){return i("throw",t,s,d)}))}d(c.arg)})(r,o,i,s)}))}return i=i?i.then(s,s):s()}})}function k(t,e,i){var a="suspendedStart";return function(n,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===n)throw r;return I()}for(i.method=n,i.arg=r;;){var o=i.delegate;if(o){var s=j(o,i);if(s){if(s===f)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if("suspendedStart"===a)throw a="completed",i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);a="executing";var d=h(t,e,i);if("normal"===d.type){if(a=i.done?"completed":"suspendedYield",d.arg===f)continue;return{value:d.arg,done:i.done}}"throw"===d.type&&(a="completed",i.method="throw",i.arg=d.arg)}}}function j(t,e){var i=e.method,a=t.iterator[i];if(void 0===a)return e.delegate=null,"throw"===i&&t.iterator["return"]&&(e.method="return",e.arg=void 0,j(t,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),f;var n=h(a,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var r=n.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function q(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function e(){for(;++i<t.length;)if(n.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=g,r(w,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:p,configurable:!0}),p.displayName=u(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,c,"GeneratorFunction")),t.prototype=Object.create(w),t},t.awrap=function(t){return{__await:t}},y(_.prototype),u(_.prototype,d,(function(){return this})),t.AsyncIterator=_,t.async=function(e,i,a,n,r){void 0===r&&(r=Promise);var o=new _(l(e,i,a,n),r);return t.isGeneratorFunction(i)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(w),u(w,c,"Generator"),u(w,s,(function(){return this})),u(w,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),i=[];for(var a in e)i.push(a);return i.reverse(),function t(){for(;i.length;){var a=i.pop();if(a in e)return t.value=a,t.done=!1,t}return t.done=!0,t}},t.values=T,q.prototype={constructor:q,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function i(i,a){return o.type="throw",o.arg=t,e.next=i,a&&(e.method="next",e.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return i("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),d=n.call(r,"finallyLoc");if(s&&d){if(this.prev<r.catchLoc)return i(r.catchLoc,!0);if(this.prev<r.finallyLoc)return i(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return i(r.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return i(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,f):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),P(i),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var a=i.completion;if("throw"===a.type){var n=a.arg;P(i)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:T(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=void 0),f}},t},i("6a54"),i("01a2"),i("e39c"),i("bf0f"),i("844d"),i("18f7"),i("de6c"),i("3872e"),i("4e9b"),i("114e"),i("c240"),i("926e"),i("7a76"),i("c9b5"),i("aa9c"),i("2797"),i("8a8d"),i("dc69"),i("f7a5");var a=function(t){return t&&t.__esModule?t:{default:t}}(i("fcf3"))},"2aa68":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this.$createElement,e=this._self._c||t;return e("v-uni-view",{staticClass:"none_tip"},[e("v-uni-image",{staticClass:"image",attrs:{src:"/static/images/none_tip.png",mode:"widthFix"}}),e("v-uni-view",{staticClass:"none_tip_text"},[e("v-uni-text",{staticClass:"text"},[this._v("什么也没有~")])],1)],1)},n=[]},"2fdc":function(t,e,i){"use strict";function a(t,e,i,a,n,r,o){try{var s=t[r](o),d=s.value}catch(c){return void i(c)}s.done?e(d):Promise.resolve(d).then(a,n)}i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return function(){var e=this,i=arguments;return new Promise((function(n,r){var o=t.apply(e,i);function s(t){a(o,n,r,s,d,"next",t)}function d(t){a(o,n,r,s,d,"throw",t)}s(void 0)}))}},i("bf0f")},3471:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var i="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=(0,a.default)(t))||e&&t&&"number"===typeof t.length){i&&(t=i);var n=0,r=function(){};return{s:r,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,d=!1;return{s:function(){i=i.call(t)},n:function(){var t=i.next();return s=t.done,t},e:function(t){d=!0,o=t},f:function(){try{s||null==i["return"]||i["return"]()}finally{if(d)throw o}}}},i("01a2"),i("e39c"),i("bf0f"),i("844d"),i("18f7"),i("de6c"),i("7a76"),i("c9b5");var a=function(t){return t&&t.__esModule?t:{default:t}}(i("5d6b"))},"3bef":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,'@charset "UTF-8";uni-button[data-v-9d3470e4]{margin:0;padding:0;border-radius:0;background-color:initial}.jiangqie-page-view[data-v-9d3470e4]{padding:%?0?%}.jiangqie-page-head[data-v-9d3470e4]{position:-webkit-sticky;position:sticky;overflow:hidden;border-bottom:%?4?% solid #f3f3f3}.jiangqie-page-title[data-v-9d3470e4]{width:100%}.jiangqie-page-title uni-text[data-v-9d3470e4]{display:block;line-height:%?46?%;padding:%?50?% %?30?% 0;color:#333;font-size:%?36?%;font-weight:500}.jiangqie-page-cmt[data-v-9d3470e4]{height:%?80?%;line-height:%?80?%;border-radius:%?40?% %?40?% 0 0;background:#fff;padding:0 %?30?%}.jiangqie-page-cmt-info[data-v-9d3470e4]{float:right;font-size:%?24?%;font-weight:400;color:#999}.jiangqie-page-icon[data-v-9d3470e4]{height:%?32?%;width:%?32?%;margin-right:%?10?%;vertical-align:text-bottom;margin-bottom:%?2?%}.jiangqie-page-cmt uni-text[data-v-9d3470e4]{font-size:%?24?%;font-weight:400;color:#999;display:inline-block;line-height:%?80?%;padding:%?0?%}.jiangqie-page-cmt .category[data-v-9d3470e4]{margin-left:%?20?%}.jiangqie-page-title-img[data-v-9d3470e4]{position:relative;width:100%}.jiangqie-page-body[data-v-9d3470e4]{padding:%?30?% %?50?%;background:#fff;line-height:2.2rem;font-weight:400;font-size:%?30?%}.jiangqie-page-body uni-rich-text[data-v-9d3470e4]{line-height:2rem;min-height:2rem;display:block}.wxParse-p[data-v-9d3470e4]{margin-top:%?30?%;font-size:%?30?%;color:#333;line-height:2rem;font-weight:300}.jiangqie-page-body-end[data-v-9d3470e4]{height:%?100?%;line-height:%?100?%;font-size:%?20?%;color:#ccc;text-align:center}.jiangqie-page-body-tag[data-v-9d3470e4]{padding:%?20?% 0;overflow:hidden;border-bottom:%?1?% solid #eee}.jiangqie-page-body-tag uni-text[data-v-9d3470e4]{float:left;padding:%?4?% %?22?% %?6?% %?22?%;vertical-align:middle;background:#f6f6f6;border-radius:%?40?%;margin-right:%?20?%;margin-bottom:%?20?%;font-weight:300;font-size:%?22?%;color:#666}.jiangqie-page-body-banner[data-v-9d3470e4]{height:%?160?%;width:%?690?%;overflow:hidden;border-radius:%?20?%;box-shadow:%?5?% %?5?% %?20?% rgba(0,0,0,.2);margin:%?20?% 0}.jiangqie-page-body-banner uni-image[data-v-9d3470e4]{width:100%}.jiangqie-page-cmtbox[data-v-9d3470e4]{padding:%?20?% %?30?% %?80?%;border-top:%?16?% solid #f3f3f3;background:#fff;clear:left}.jiangqie-page-cmt-title[data-v-9d3470e4]{font-size:%?32?%;font-weight:500;color:#333;padding:%?10?% 0 %?16?%}.jiangqie-page-cmt-title uni-text[data-v-9d3470e4]{font-size:%?20?%;font-weight:400;color:#999;padding:%?6?% %?16?%;border-radius:%?30?%;background:#f6f6f6;margin-left:%?30?%}.jiangqie-page-cmt-content[data-v-9d3470e4]{padding:%?20?% 0;padding-left:%?80?%;border-top:%?1?% solid #eee;overflow:hidden}.jiangqie-page-cmt-avatar[data-v-9d3470e4]{float:left;margin-left:%?-80?%;height:%?64?%;width:%?64?%}.jiangqie-page-cmt-avatar uni-image[data-v-9d3470e4]{height:%?64?%;width:%?64?%;border-radius:%?64?%;overflow:hidden}.jiangqie-page-cmt-head[data-v-9d3470e4]{font-size:%?28?%;font-weight:500;color:#333}.jiangqie-page-cmt-time[data-v-9d3470e4]{font-size:%?22?%;font-weight:400;color:#888;margin-left:%?20?%}.jiangqie-page-cmt-text[data-v-9d3470e4]{padding:%?10?% 0}.jiangqie-page-cmt-text-world[data-v-9d3470e4]{font-size:%?26?%;font-weight:300;color:#444}.jiangqie-page-cmt-replay[data-v-9d3470e4]{margin-top:%?20?%;border-radius:%?30?%;padding:0 %?20?%;background:#f6f6f6}.jiangqie-page-cmt-replay-box[data-v-9d3470e4]{padding:%?20?% 0;border-bottom:%?1?% solid #eee}.jiangqie-page-cmt-replay-box[data-v-9d3470e4]:last-child{border-bottom:none}.jiangqie-page-cmt-replay-nametime[data-v-9d3470e4]{padding-bottom:%?10?%;font-size:%?24?%;font-weight:500;color:#333}.jiangqie-page-cmt-replay-time[data-v-9d3470e4]{font-size:%?20?%;font-weight:400;color:#bbb;margin-left:%?20?%}.jiangqie-page-cmt-replay-world[data-v-9d3470e4]{font-size:%?24?%;font-weight:300;color:#444}.jiangqie-page-laud[data-v-9d3470e4]{overflow:hidden;border-bottom:%?1?% solid #eee}.jiangqie-page-laud-contrl[data-v-9d3470e4]{padding:%?40?% %?20?% %?10?%;overflow:hidden}.jiangqie-page-laud-btn[data-v-9d3470e4]{font-size:14px;text-align:center;float:left;margin-left:%?40?%;border-radius:%?80?%;padding:%?5?% %?40?% %?7?%;width:%?180?%;border:%?1?% solid #ccc;line-height:1.8rem}.jiangqie-page-laud-btn uni-image[data-v-9d3470e4]{height:%?36?%;width:%?36?%;margin-right:%?12?%;vertical-align:text-bottom}.jiangqie-page-laud-btn uni-text[data-v-9d3470e4]{font-size:%?26?%;font-weight:400;color:#999}.jiangqie-page-laud-list[data-v-9d3470e4]{padding:%?20?% %?40?% %?10?%}.jiangqie-page-laud-list-title[data-v-9d3470e4]{text-align:center;padding:%?20?%;font-size:%?22?%;color:#bbb;font-weight:200}.jiangqie-page-laud-list-block[data-v-9d3470e4]{padding:%?20?%;overflow:hidden;text-align:center}.jiangqie-page-laud-list-block uni-image[data-v-9d3470e4]{height:%?64?%;width:%?64?%;margin-right:%?24?%;border-radius:%?96?%}.jiangqie-operation[data-v-9d3470e4]{width:100%;height:%?100?%;overflow:hidden;background:#fff;display:flex;align-items:center;justify-content:space-between;position:fixed;left:0;bottom:0;z-index:99999;padding-bottom:env(safe-area-inset-bottom)}.jiangqie-safearea-bottom[data-v-9d3470e4]{width:100%;height:env(safe-area-inset-bottom)}.jiangqie-operation[data-v-9d3470e4]::before{content:"";position:absolute;top:0;right:0;left:0;border-top:%?1?% solid #eaeef1;-webkit-transform:scaleY(.5);transform:scaleY(.5)}.jiangqie-operation-left[data-v-9d3470e4]{display:flex;align-items:center}.jiangqie-operation-item[data-v-9d3470e4]{flex:1;display:flex;align-items:center;justify-content:center;flex-direction:column;position:relative}.jiangqie-operation-item uni-image[data-v-9d3470e4]{height:%?42?%;width:%?42?%}.jiangqie-operation-item uni-text[data-v-9d3470e4]{position:absolute;right:%?10?%;background:#fff;font-size:%?20?%;top:%?-10?%;padding:%?4?%}.jiangqie-operation-right[data-v-9d3470e4]{height:%?100?%;box-sizing:border-box;padding-top:0}.jiangqie-badge-class[data-v-9d3470e4]{color:#5677fc!important;position:absolute;top:%?-6?%;padding:2px 4px!important}.jiangqie-right-flex[data-v-9d3470e4]{display:flex;align-items:center;justify-content:center}.jiangqie-btn-comment[data-v-9d3470e4]{height:%?64?%;width:84%;background:#ededed;color:#999;border-radius:%?16?%;font-size:%?28?%;display:flex;align-items:center;padding-left:%?20?%;box-sizing:border-box;padding-top:0;margin-left:%?30?%}.jiangqie-col-7[data-v-9d3470e4]{width:58.33333333%}.jiangqie-col-5[data-v-9d3470e4]{width:41.66666667%}.jiangqie-share-btn[data-v-9d3470e4]{display:block;background:none;margin:0;padding:0;border:none}.comment-action[data-v-9d3470e4]{margin-left:%?20?%}\n/* 评论框 -- start --*/.textareacontent[data-v-9d3470e4]{position:fixed;top:%?350?%;width:100%;height:%?1200?%;border-top-left-radius:%?16?%;border-top-right-radius:%?16?%;background-color:#fff;z-index:10}.textareacontent .textheaders[data-v-9d3470e4]{width:100%;height:%?96?%;border-bottom:%?1?% solid #eaeaea}.textareacontent .textheaders .cancel[data-v-9d3470e4]{color:#333;font-size:%?32?%;line-height:%?96?%;margin-left:%?32?%;float:left}.textareacontent .textheaders .publish[data-v-9d3470e4]{color:#3ec382;font-size:%?32?%;line-height:%?96?%;margin-right:%?32?%;float:right}.textareaBox[data-v-9d3470e4]{height:%?360?%;position:relative}.textNum[data-v-9d3470e4]{position:absolute;width:%?686?%;font-size:%?26?%;color:#999;margin-left:%?32?%;margin-right:%?32?%;top:%?10?%;text-align:right}.textareacontent .textareaInput[data-v-9d3470e4]{width:%?686?%;padding:%?32?% %?32?% %?42?% %?32?%;height:%?286?%;font-size:%?34?%;line-height:%?65?%;z-index:0}.pagemake[data-v-9d3470e4]{background-color:#000;opacity:.8;height:100%;width:100%;position:fixed;top:0\n  /* top: calc(88rpx + constant(safe-area-inset-top));\n\ttop: calc(88rpx + env(safe-area-inset-top)); */}\n/* 评论框 -- end --*/.jiangqie-page-body[data-v-9d3470e4]{overflow:hidden}uni-button.jiangqie-page-laud-btn[data-v-9d3470e4]{box-sizing:initial;line-height:inherit;line-height:1.8rem}.jiangqie-goback-btn[data-v-9d3470e4]{height:%?96?%;width:%?96?%;position:fixed;right:%?40?%;bottom:%?200?%}.jiangqie-goback-btn uni-button[data-v-9d3470e4]{background:none}.jiangqie-goback-btn uni-image[data-v-9d3470e4]{height:%?96?%;width:%?96?%}.jiangqie-official-mod[data-v-9d3470e4]{padding:%?10?% 0}.jiangqie-pre-next-view[data-v-9d3470e4]{display:flex;justify-content:space-between;padding:0 %?30?% %?30?%;border-bottom:%?1?% solid #eee;color:#333}.jiangqie-pre-next-view .jiangqie-pre-view[data-v-9d3470e4],\n.jiangqie-pre-next-view .jiangqie-next-view[data-v-9d3470e4]{display:flex;align-items:center}',""]),t.exports=e},4174:function(t,e,i){"use strict";i.r(e);var a=i("462c"),n=i("46a4");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);var o=i("828b"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],void 0);e["default"]=s.exports},"462c":function(t,e,i){"use strict";i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return n})),i.d(e,"a",(function(){}));var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.use2dCanvas?i("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{id:t.canvasId,type:"2d"}}):i("v-uni-canvas",{style:t.size+";"+t.customStyle,attrs:{"canvas-id":t.canvasId,id:t.canvasId,width:t.boardWidth*t.dpr,height:t.boardHeight*t.dpr}})},n=[]},"46a4":function(t,e,i){"use strict";i.r(e);var a=i("8747"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},"5aa2":function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("64aa"),i("5ef2"),i("dd2b"),i("3efd"),i("c223");var n=a(i("4617")),r=a(i("97c2")),o=a(i("60c9")),s=a(i("4174")),d=i("ea2b"),c=i("0a0b"),u=i("e638"),l=i("e2e2"),h=i("2b7b"),f=i("dad5"),v={data:function(){return this.comment_id=0,this.acode="",this.needRefresh=!0,this.comment_submiting=!1,{post:{title:"",views:"",time:"",cats:[],tags:[],switch_comment:0},islike:0,isfavorite:0,favorite_count:0,comment_count:0,comments:[],loadding:!1,pullUpOn:!0,loaded:!1,show_comment_submit:!1,comment_content:"",comment_count_change:0,post_id:0,wx_ad_top:void 0,wx_ad_bottom:void 0,pre_next:void 0,pre:void 0,next:void 0,article:"",official:!1,like_list:[],placeholder:"",isShowPainter:!1,painterImage:"",base:void 0}},components:{JiangqieLoadmore:n.default,jiangqieNomore:r.default,JiangqieNoData:o.default,lPainter:s.default},onLoad:function(t){t.scene?this.post_id=decodeURIComponent(t.scene):t.post_id&&(this.post_id=t.post_id),this.loadBdacode(),uni.$on("linktap",this.onMPHtmlLink)},onShow:function(){var t=this;this.needRefresh?(l.get(u.JIANGQIE_POST_DETAIL,{post_id:this.post_id}).then((function(e){uni.setNavigationBarTitle({title:e.data.title}),t.post=e.data,t.islike=e.data.user.islike,t.isfavorite=e.data.user.isfavorite,t.favorite_count=e.data.favorite_count,t.comment_count=Number(e.data.comment_count),t.like_list=e.data.like_list,t.article=e.data.content,t.wx_ad_top=e.data.wx_ad_top,t.wx_ad_bottom=e.data.wx_ad_bottom,t.pre_next=e.data.pre_next,t.pre_next&&(t.pre=e.data.pre,t.next=e.data.next)})),this.loadComments(!0),this.comment_submiting=!1):this.needRefresh=!0},onUnload:function(){uni.$off("linktap",this.onMPHtmlLink)},onReachBottom:function(){this.pullUpOn&&this.loadComments(!1)},onShareAppMessage:function(){return{title:this.post.title,imageUrl:this.post.thumbnail,path:"pages/article/article?post_id="+this.post_id}},methods:{onMPHtmlLink:function(t){f.clickHref(t)},sharePosterClick:function(){this.painterImage?uni.previewImage({urls:[this.painterImage]}):(this.isShowPainter=!0,this.base={width:"750rpx",height:"1334rpx",backgroundColor:"#E6372F",views:[{type:"view",css:{left:"30rpx",top:"234rpx",width:"690rpx",height:"1000rpx",background:"#FFFFFF"}},{type:"text",text:this.post.title,css:{left:"30rpx",top:"120rpx",width:"690rpx",color:"#FFFFFF",fontSize:"38rpx",textAlign:"center",maxLines:1}},{type:"image",src:this.post.thumbnail,mode:"center",css:{left:"30rpx",top:"200rpx",width:"690rpx",height:"520rpx"}},{type:"text",text:this.post.excerpt,css:{left:"70rpx",top:"740rpx",width:"610rpx",color:"#000000",fontSize:"28rpx",maxLines:3}},{type:"image",src:this.acode,mode:"aspectFill",css:{left:"275rpx",top:"920rpx",width:"200rpx",height:"200rpx"}},{type:"text",text:getApp().globalData.appName,css:{left:"30rpx",top:"1170rpx",width:"690rpx",color:"#888888",fontSize:"28rpx",textAlign:"center"}}]})},onPainterSuccess:function(t){this.painterImage=t,uni.previewImage({urls:[t]})},handlerTagClick:function(t){var e=t.currentTarget.dataset.id,i=t.currentTarget.dataset.tag;uni.navigateTo({url:"/pages/list/list?title="+i+"&tag_id="+e})},jumpBtn:function(){c.navigateBack()},handlerLikeClick:function(t){var e=this;l.get(u.JIANGQIE_USER_LIKE,{post_id:this.post.id}).then((function(t){var i=h.getUser().avatar,a=e.like_list.indexOf(i);a>-1?e.like_list.splice(a,1):e.like_list.unshift(i),e.islike=1==e.islike?0:1,e.like_list=e.like_list}))},handlerCommentClick:function(t){this.comment_id=0,this.show_comment_submit=!0},handlerCancelClick:function(t){this.show_comment_submit=!1},handlerCommentSubmit:function(t){var e=this;this.comment_content?this.comment_submiting||(this.comment_submiting=!0,l.get(u.JIANGQIE_COMMENT_ADD,{post_id:this.post_id,parent_id:this.comment_id,content:this.comment_content}).then((function(t){e.comment_count_change=e.comment_count_change+(1==t.data.comment_verify?0:1),e.show_comment_submit=!1,e.loadComments(!0),e.comment_submiting=!1}))):uni.showToast({icon:"none",title:"请输入内容"})},handlerCommentReplyClick:function(t){this.comment_id=t.currentTarget.dataset.id,this.show_comment_submit=!0},handlerCommentDeleteClick:function(t){var e=this;uni.showModal({title:"提示",content:"确定要删除吗？",success:function(i){if(i.confirm){var a=t.currentTarget.dataset.id;l.get(u.JIANGQIE_COMMENT_DELETE,{comment_id:a}).then((function(t){e.comment_count_change=e.comment_count_change-1,e.loadComments(!0)}))}}})},handlerContentInput:function(t){this.comment_content=t.detail.value},handlerFavoriteClick:function(t){var e=this;l.get(u.JIANGQIE_USER_FAVORITE,{post_id:this.post.id}).then((function(t){e.isfavorite=1==e.isfavorite?0:1}))},clickPre:function(){this.pre&&c.openLink("/pages/article/article?post_id="+this.pre)},clickNext:function(){this.next&&c.openLink("/pages/article/article?post_id="+this.next)},loadWxacode:function(){var t=this;l.get(u.JIANGQIE_POST_WX_ACODE,{post_id:this.post_id}).then((function(e){t.acode=e.data}),(function(t){console.log(t)}))},loadQqacode:function(){var t=this;l.get(u.JIANGQIE_POST_QQ_ACODE,{post_id:this.post_id}).then((function(e){t.acode=e.data}),(function(t){console.log(t)}))},loadBdacode:function(){var t=this;l.get(u.JIANGQIE_POST_BD_ACODE,{post_id:this.post_id}).then((function(e){t.acode=e.data}),(function(t){console.log(t)}))},loadComments:function(t){var e=this;this.loadding=!0;var i=0;t||(i=this.comments.length),l.get(u.JIANGQIE_COMMENT_INDEX,{post_id:this.post_id,offset:i}).then((function(i){e.loaded=!0,e.loadding=!1,e.comments=t?i.data:e.comments.concat(i.data),e.pullUpOn=i.data.length>=d.JQ_PER_PAGE_COUNT}))}}};e.default=v},"60c9":function(t,e,i){"use strict";i.r(e);var a=i("2aa68"),n=i("e093");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("617f");var o=i("828b"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"685e5c06",null,!1,a["a"],void 0);e["default"]=s.exports},"617f":function(t,e,i){"use strict";var a=i("90bc"),n=i.n(a);n.a},"6f42":function(t,e,i){var a=i("c86c");e=a(!1),e.push([t.i,".none_tip[data-v-685e5c06]{padding:%?80?%;text-align:center}.none_tip .image[data-v-685e5c06]{height:%?200?%;width:%?200?%}.none_tip_text[data-v-685e5c06]{padding:%?20?%}.none_tip_text .text[data-v-685e5c06]{font-size:%?28?%;color:#999;font-weight:200}",""]),t.exports=e},7122:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return r})),i.d(e,"a",(function(){return a}));var a={mpHtml:i("5d6f").default,uniIcons:i("839e").default},n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",[i("v-uni-view",{staticClass:"container jiangqie-page-view"},[i("v-uni-view",{staticClass:"jiangqie-page-head"},[i("v-uni-view",{staticClass:"jiangqie-page-title"},[i("v-uni-text",[t._v(t._s(t.post.title))]),i("v-uni-view",{staticClass:"jiangqie-page-cmt"},[i("v-uni-view",{staticClass:"jiangqie-page-cmt-info"},[i("v-uni-image",{staticClass:"jiangqie-page-icon",attrs:{src:"/static/images/ctm2.png",mode:"widthFix"}}),t._v(t._s(t.post.views))],1),i("v-uni-text",[t._v(t._s(t.post.time))]),t._l(t.post.cats,(function(e,a){return i("v-uni-text",{key:a,staticClass:"category"},[t._v(t._s(e.name))])}))],2)],1)],1),i("v-uni-view",{staticClass:"jiangqie-page-body"},[i("mp-html",{attrs:{content:t.article}}),i("v-uni-view",{staticClass:"jiangqie-page-body-end"},[i("v-uni-text",[t._v("- The End -")])],1),i("v-uni-view",{staticClass:"jiangqie-page-body-tag"},t._l(t.post.tags,(function(e,a){return i("v-uni-text",{key:a,attrs:{"data-id":e.id,"data-tag":e.name},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerTagClick.apply(void 0,arguments)}}},[t._v(t._s(e.name))])})),1),i("v-uni-view",{staticClass:"jiangqie-page-laud"},[i("v-uni-view",{staticClass:"jiangqie-page-laud-contrl"},[1==t.islike?i("v-uni-view",{staticClass:"jiangqie-page-laud-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerLikeClick.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/laud_on.png",mode:"widthFix"}}),i("v-uni-text",[t._v("已赞")])],1):i("v-uni-view",{staticClass:"jiangqie-page-laud-btn",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerLikeClick.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/laud.png",mode:"widthFix"}}),i("v-uni-text",[t._v("点赞")])],1),i("v-uni-button",{staticClass:"jiangqie-page-laud-btn",attrs:{"open-type":"share","share-type":"33","hover-class":"opcity","hover-stay-time":"150"}},[i("v-uni-image",{attrs:{src:"/static/images/share.png",mode:"widthFix"}}),i("v-uni-text",[t._v("快速分享")])],1)],1),i("v-uni-view",{staticClass:"jiangqie-page-laud-list"},[i("v-uni-view",{staticClass:"jiangqie-page-laud-list-title"},[t._v("- "+t._s(t.like_list.length)+"人已赞 -")]),i("v-uni-view",{staticClass:"jiangqie-page-laud-list-block"},t._l(t.like_list,(function(t,e){return i("v-uni-image",{key:e,attrs:{src:t.length>0?t:"/static/images/default_avatar.jpg",mode:"aspectFill"}})})),1)],1)],1)],1),t.pre_next?i("v-uni-view",{staticClass:"jiangqie-pre-next-view"},[i("v-uni-view",{staticClass:"jiangqie-next-view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickNext.apply(void 0,arguments)}}},[t.next?[i("uni-icons",{attrs:{type:"arrowleft",size:"24"}}),t._v("上一篇")]:t._e()],2),i("v-uni-view",{staticClass:"jiangqie-pre-view",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.clickPre.apply(void 0,arguments)}}},[t.pre?[t._v("下一篇"),i("uni-icons",{attrs:{type:"arrowright",size:"24"}})]:t._e()],2)],1):t._e(),i("v-uni-view",{staticClass:"jiangqie-page-cmtbox"},[i("v-uni-view",{staticClass:"jiangqie-page-cmt-title"},[t._v("评论"),i("v-uni-text",[t._v(t._s(t.comment_count+t.comment_count_change))])],1),i("v-uni-ad",{attrs:{"unit-id":"7948bf8f4b438b7d44b9c720a6c83597",type:"card"}}),t.comments.length>0?[t._l(t.comments,(function(e,a){return i("v-uni-view",{key:a,staticClass:"jiangqie-page-cmt-content"},[i("v-uni-view",{staticClass:"jiangqie-page-cmt-avatar"},[i("v-uni-image",{attrs:{src:e.user.avatar.length>0?e.user.avatar:"/static/images/default_avatar.jpg",mode:"aspectFill"}})],1),i("v-uni-view",{staticClass:"jiangqie-page-cmt-head"},[t._v(t._s(e.user.name)),i("v-uni-text",{staticClass:"jiangqie-page-cmt-time"},[t._v(t._s(e.time))]),1!=e.approved?i("v-uni-text",{staticClass:"jiangqie-page-cmt-time"},[t._v("待审核")]):t._e(),i("v-uni-text",{staticClass:"comment-action",attrs:{"data-id":e.id},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCommentReplyClick.apply(void 0,arguments)}}},[t._v("回复")]),1==e.user.is_me?i("v-uni-text",{staticClass:"comment-action",attrs:{"data-id":e.id},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCommentDeleteClick.apply(void 0,arguments)}}},[t._v("删除")]):t._e()],1),i("v-uni-view",{staticClass:"jiangqie-page-cmt-text"},[i("v-uni-text",{staticClass:"jiangqie-page-cmt-text-world"},[t._v(t._s(e.content))]),i("v-uni-view",{staticClass:"jiangqie-page-cmt-replay"},t._l(e.replys,(function(e,a){return i("v-uni-view",{key:a,staticClass:"jiangqie-page-cmt-replay-box"},[i("v-uni-view",{staticClass:"jiangqie-page-cmt-replay-nametime"},[t._v(t._s(e.user.name)),i("v-uni-text",{staticClass:"jiangqie-page-cmt-replay-time"},[t._v(t._s(e.time))]),1!=e.approved?i("v-uni-text",{staticClass:"jiangqie-page-cmt-time"},[t._v("待审核")]):t._e(),1==e.user.is_me?i("v-uni-text",{staticClass:"comment-action",attrs:{"data-id":e.id},on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCommentDeleteClick.apply(void 0,arguments)}}},[t._v("删除")]):t._e()],1),i("v-uni-view",{staticClass:"jiangqie-page-cmt-replay-world"},[t._v(t._s(e.content))])],1)})),1)],1)],1)})),i("jiangqie-loadmore",{attrs:{visible:t.loadding}}),i("jiangqie-nomore",{attrs:{visible:!t.pullUpOn}})]:t.loaded?[i("jiangqie-no-data")]:t._e()],2)],1),t.show_comment_submit||1!=t.post.switch_comment?t._e():i("v-uni-view",{staticClass:"jiangqie-operation"},[i("v-uni-view",{staticClass:"jiangqie-operation-left jiangqie-col-7 jiangqie-height-full jiangqie-ptop-zero"},[i("v-uni-view",{staticClass:"jiangqie-btn-comment",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCommentClick.apply(void 0,arguments)}}},[t._v("发表你的评论...")])],1),i("v-uni-view",{staticClass:"jiangqie-operation-right jiangqie-right-flex jiangqie-col-5"},[i("v-uni-view",{staticClass:"jiangqie-operation-item",attrs:{"hover-class":"opcity","hover-stay-time":"150"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCommentClick.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/btn_com.png",mode:"widthFix"}}),i("v-uni-text",[t._v(t._s(t.comment_count+t.comment_count_change))])],1),i("v-uni-view",{staticClass:"jiangqie-operation-item",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerFavoriteClick.apply(void 0,arguments)}}},[1==t.isfavorite?[i("v-uni-image",{attrs:{src:"/static/images/btn_fav_on.png",mode:"widthFix"}})]:[i("v-uni-image",{attrs:{src:"/static/images/btn_fav.png",mode:"widthFix"}})],i("v-uni-text",[t._v(t._s(t.favorite_count))])],2),i("v-uni-button",{staticClass:"jiangqie-operation-item",attrs:{"open-type":"share","hover-class":"opcity","hover-stay-time":"150"}},[i("v-uni-image",{attrs:{src:"/static/images/btn_share.png",mode:"widthFix"}})],1)],1)],1),t.show_comment_submit?i("v-uni-view",{staticClass:"textareacontent",attrs:{"capture-catch:touchmove":!0}},[i("v-uni-form",{on:{submit:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerCommentSubmit.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"textheaders"},[i("v-uni-view",{staticClass:"cancel",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCancelClick.apply(void 0,arguments)}}},[t._v("取消")]),i("v-uni-button",{staticClass:"publish",attrs:{"form-type":"submit"}},[t._v("发布")])],1),i("v-uni-view",{staticClass:"textareaBox"},[i("v-uni-view",{staticClass:"textNum"},[t._v(t._s(t.comment_content.length)+"/200")]),i("v-uni-textarea",{staticClass:"textareaInput",attrs:{"auto-height":!0,autoFocus:"true",name:"inputComment",maxlength:"200","show-confirm-bar":!1,placeholder:t.placeholder},on:{input:function(e){arguments[0]=e=t.$handleEvent(e),t.handlerContentInput.apply(void 0,arguments)}}})],1)],1)],1):t._e(),t.show_comment_submit?i("v-uni-view",{staticClass:"pagemake",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e),t.handlerCancelClick.apply(void 0,arguments)}}}):t._e(),i("v-uni-view",{staticClass:"jiangqie-goback-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.jumpBtn.apply(void 0,arguments)}}},[i("v-uni-image",{attrs:{src:"/static/images/goback.png",mode:"widthFix"}})],1),t.isShowPainter?i("l-painter",{attrs:{isRenderImage:!0,"custom-style":"position: fixed; left: 200%;",board:t.base},on:{success:function(e){arguments[0]=e=t.$handleEvent(e),t.onPainterSuccess.apply(void 0,arguments)}}}):t._e()],1)},r=[]},8747:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("2634")),r=a(i("2fdc"));i("64aa"),i("c223"),i("5c47"),i("0506"),i("d4b5"),i("bf0f"),i("7a76"),i("c9b5");var o=i("1adf"),s=i("c20c"),d=i("2541"),c=i("fd60"),u={name:"l-painter",props:{board:Object,pathType:{type:String},fileType:{type:String,default:"png"},quality:{type:Number,default:1},width:[Number,String],height:[Number,String],pixelRatio:Number,customStyle:String,isRenderImage:Boolean,isH5PathToBase64:Boolean,sleep:{type:Number,default:1e3/60},beforeDelay:{type:Number,default:1e3/60},afterDelay:Number},data:function(){return{canvasId:"l-painter".concat(this._uid),use2dCanvas:!1,draw:null,ctx:null,canvasHeight:0,canvasWidth:0,layout:new d.Layout,isDrawIng:!1}},computed:{size:function(){return"width:".concat(this.boardWidth,"px; height: ").concat(this.boardHeight,"px;")},dpr:function(){return this.pixelRatio||uni.getSystemInfoSync().pixelRatio},boardWidth:function(){var t=this.board||{},e=t.width;return(0,o.toPx)(this.width||e)},boardHeight:function(){var t=this.board||{},e=t.height,i=this.height,a=this.canvasHeight;return/^auto$/.test(i||e)?a||1:(0,o.toPx)(i||e)}},watch:{size:function(){}},mounted:function(){var t=this;this.$watch("board",function(){var e=(0,r.default)((0,n.default)().mark((function e(i,a){return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("{}"!==JSON.stringify(i)&&i){e.next=2;break}return e.abrupt("return");case 2:if(!t.beforeDelay){e.next=5;break}return e.next=5,(0,o.sleep)(t.beforeDelay);case 5:t.render();case 6:case"end":return e.stop()}}),e)})));return function(t,i){return e.apply(this,arguments)}}(),{deep:!0,immediate:!0})},methods:{update:function(t,e){var i=this;return(0,r.default)((0,n.default)().mark((function a(){return(0,n.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i.draw=null,i.isDrawIng=!1,a.next=4,new Promise((function(t){return i.$nextTick(t)}));case 4:return a.next=6,(0,o.sleep)(200);case 6:return a.abrupt("return",i.render(t,e));case 7:case"end":return a.stop()}}),a)})))()},render:function(){var t=arguments,e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,d,c,u,l,h,f,v,p,g,m,b,x,w;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(a=t.length>0&&void 0!==t[0]?t[0]:{},d=t.length>1&&void 0!==t[1]&&t[1],!e.isDrawIng){i.next=4;break}return i.abrupt("return",e.update(a,d));case 4:return e.isDrawIng=!0,c="{}"!=JSON.stringify(a),i.next=8,e.getContext();case 8:if(u=i.sent,l=e.use2dCanvas,h=e.boardWidth,f=e.boardHeight,v=e.board,p=e.canvas,g=e.isH5PathToBase64,m=e.sleep,b=e.afterDelay,!l||p){i.next=12;break}return i.abrupt("return",Promise.reject(new Error("render: fail canvas has not been created")));case 12:if(e.boundary={top:0,left:0,width:h,height:f},d||u.clearRect(0,0,h,f),e.draw&&!c||(e.draw=new s.Draw(u,p,l,g,m)),e.layout.init(u,e.boundary,g),!(c||v&&"{}"!=JSON.stringify(v))){i.next=20;break}return i.next=19,e.layout.calcNode(c?a:Object.assign({},v,{height:v.type||"auto"!=v.height?v.height:f}));case 19:e.node=i.sent;case 20:if(x=e.layout.layoutHeight,!/auto/.test(e.height||v.height)||e.canvasHeight){i.next=24;break}return e.canvasHeight=x,i.abrupt("return",e.update(a,d));case 24:if(!e.node){i.next=27;break}return i.next=27,null===(w=e.draw)||void 0===w?void 0:w.drawNode(e.node);case 27:return i.next=29,new Promise((function(t){return e.$nextTick(t)}));case 29:if(l||d){i.next=32;break}return i.next=32,e.canvasDraw(u);case 32:if(!b){i.next=35;break}return i.next=35,(0,o.sleep)(b);case 35:return e.$emit("done"),e.isRenderImage&&!d&&e.isDrawIng&&e.canvasToTempFilePath().then(function(){var t=(0,r.default)((0,n.default)().mark((function t(i){var a,r;return(0,n.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("base64"!=e.pathType){t.next=11;break}if(!/^data:image\/(\w+);base64/.test(i.tempFilePath)){t.next=5;break}e.$emit("success",i.tempFilePath),t.next=9;break;case 5:return t.next=7,(0,o.pathToBase64)(i.tempFilePath);case 7:a=t.sent,e.$emit("success",a);case 9:t.next=19;break;case 11:if("url"!=e.pathType){t.next=18;break}return t.next=14,(0,o.base64ToPath)(i.tempFilePath);case 14:r=t.sent,e.$emit("success",r),t.next=19;break;case 18:e.$emit("success",i.tempFilePath);case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$emit("fail",new Error(JSON.stringify(t)))})),e.isDrawIng=!1,i.abrupt("return",Promise.resolve({ctx:u,draw:e.draw,node:e.node}));case 39:case"end":return i.stop()}}),i)})))()},custom:function(t){var e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,r,o;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.render({},!0);case 2:return a=i.sent,r=a.ctx,o=a.draw,r.save(),i.next=8,t(r,o);case 8:return r.restore(),i.abrupt("return",Promise.resolve(!0));case 10:case"end":return i.stop()}}),i)})))()},single:function(){var t=arguments,e=this;return(0,r.default)((0,n.default)().mark((function i(){var a,r;return(0,n.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.length>0&&void 0!==t[0]?t[0]:{},i.next=3,e.render(a,!0);case 3:return r=i.sent,i.abrupt("return",Promise.resolve(r));case 5:case"end":return i.stop()}}),i)})))()},canvasDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.ctx;return new Promise((function(i){e.draw(t,i)}))},getContext:function(){var t=this;return(0,r.default)((0,n.default)().mark((function e(){var i,a,r,o,s;return(0,n.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.ctx||!t.inited){e.next=2;break}return e.abrupt("return",Promise.resolve(t.ctx));case 2:return i=t.type,t.use2dCanvas,a=t.dpr,r=t.boardWidth,o=t.boardHeight,s=function(){return new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).boundingClientRect().exec((function(i){if(i){var a=uni.createCanvasContext(t.canvasId,t);t.inited||(t.inited=!0,t.use2dCanvas=!1,t.canvas=i),t.ctx=(0,c.expand)(a),e(t.ctx)}}))}))},e.abrupt("return",s());case 7:return e.abrupt("return",new Promise((function(e){uni.createSelectorQuery().in(t).select("#".concat(t.canvasId)).node().exec((function(n){var s=n[0].node;s||(t.use2dCanvas=!1,e(t.getContext()));var d=s.getContext(i);t.inited||(t.inited=!0,s.width=r*a,s.height=o*a,t.use2dCanvas=!0,t.canvas=s,d.scale(a,a)),t.ctx=(0,c.adaptor)(d),e(t.ctx)}))})));case 8:case"end":return e.stop()}}),e)})))()},canvasToTempFilePath:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=this.use2dCanvas,a=this.canvasId,n=this.dpr;return new Promise((function(r,o){var s=t.boundary||t,d=s.top,c=void 0===d?0:d,u=s.left,l=void 0===u?0:u,h=s.width,f=s.height,v=h*n,p=f*n,g=e||t,m=g.fileType,b=g.quality,x={x:l,y:c,width:h,height:f,destWidth:v,destHeight:p,canvasId:a,fileType:m,quality:b,success:r,fail:o};i&&(delete x.canvasId,x.canvas=t.canvas),uni.canvasToTempFilePath(x,t)}))}}};e.default=u},"907e":function(t,e,i){"use strict";i.r(e);var a=i("7122"),n=i("a908");for(var r in n)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return n[t]}))}(r);i("d2b0");var o=i("828b"),s=Object(o["a"])(n["default"],a["b"],a["c"],!1,null,"9d3470e4",null,!1,a["a"],void 0);e["default"]=s.exports},"90bc":function(t,e,i){var a=i("6f42");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("72fb7870",a,!0,{sourceMap:!1,shadowMode:!1})},"9ed7":function(t,e,i){var a=i("3bef");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("967d").default;n("3a0b32ad",a,!0,{sourceMap:!1,shadowMode:!1})},a908:function(t,e,i){"use strict";i.r(e);var a=i("5aa2"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},bdf5:function(t,e){},c20c:function(t,e,i){"use strict";i("6a54");var a=i("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.Draw=void 0,i("1851"),i("473f"),i("bf0f"),i("8f71"),i("5c47"),i("0506"),i("d4b5"),i("5ef2"),i("dc8a"),i("a1c1"),i("4626"),i("5ac7"),i("22b6"),i("fd3c");var n=a(i("3471")),r=a(i("2634")),o=a(i("2fdc")),s=a(i("39d8")),d=a(i("5de6")),c=a(i("80b1")),u=a(i("efe5")),l=i("1adf"),h=i("0956"),f=a(i("bdf5")),v=function(){function t(e,i){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4?arguments[4]:void 0;(0,c.default)(this,t),this.ctx=e,this.canvas=i||null,this.use2dCanvas=a,this.isH5PathToBase64=n,this.sleep=r}return(0,u.default)(t,[{key:"roundRect",value:function(t,e,i,a,n){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6&&void 0!==arguments[6]&&arguments[6];if(!(n<0)){var s=this.ctx;if(s.beginPath(),n){var d=n||{},c=d.borderTopLeftRadius,u=void 0===c?n||0:c,l=d.borderTopRightRadius,h=void 0===l?n||0:l,f=d.borderBottomRightRadius,v=void 0===f?n||0:f,p=d.borderBottomLeftRadius,g=void 0===p?n||0:p;s.arc(t+i-v,e+a-v,v,0,.5*Math.PI),s.lineTo(t+g,e+a),s.arc(t+g,e+a-g,g,.5*Math.PI,Math.PI),s.lineTo(t,e+u),s.arc(t+u,e+u,u,Math.PI,1.5*Math.PI),s.lineTo(t+i-h,e),s.arc(t+i-h,e+h,h,1.5*Math.PI,2*Math.PI),s.lineTo(t+i,e+a-v)}else s.rect(t,e,i,a);s.closePath(),o&&s.stroke(),r&&s.fill()}}},{key:"setTransform",value:function(t,e){var i=e.transform,a=e.transformOrigin,n=void 0===a?"center center":a,r=this.ctx,o=i||{},s=o.scaleX,d=void 0===s?1:s,c=o.scaleY,u=void 0===c?1:c,h=o.translateX,f=void 0===h?0:h,v=o.translateY,p=void 0===v?0:v,g=o.rotate,m=void 0===g?0:g,b=o.skewX,x=void 0===b?0:b,w=o.skewY,y=void 0===w?0:w,_=t.left,k=t.top,j=t.width,C=t.height;f=(0,l.toPx)(f,j)||0,p=(0,l.toPx)(p,C)||0;var P={top:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),bottom:(0,l.toPx)("100%",1)},q={left:(0,l.toPx)("0%",1),center:(0,l.toPx)("50%",1,!0),right:(0,l.toPx)("100%",1)};n=n.split(" ").filter((function(t,e){return e<2})).reduce((function(t,e){if(/\d+/.test(e)){var i=(0,l.toPx)(e,1,!0)/(/px|rpx$/.test(e)?(0,l.isNumber)(t.x)?C:j:1);return(0,l.isNumber)(t.x)?Object.assign(t,{y:i}):Object.assign(t,{x:i})}return(0,l.isNumber)(q[e])&&!(0,l.isNumber)(t.x)?Object.assign(t,{x:q[e]}):Object.assign(t,{y:P[e]})}),{}),r.scale(d,u);var T={x:j*(d>0?1:-1)*n.x+(_+f)/d,y:C*(u>0?1:-1)*n.y+(k+p)/u};return r.translate(T.x,T.y),m&&r.rotate(m*Math.PI/180),(x||y)&&r.transform(1,Math.tan(y*Math.PI/180),Math.tan(x*Math.PI/180),1,0,0),{x:-j*n.x,y:-C*n.y,w:j,h:C}}},{key:"setBackground",value:function(t,e,i){var a=this.ctx;t?h.GD.isGradient(t)?h.GD.doGradient(t,e,i,a):a.setFillStyle(t):a.setFillStyle("transparent")}},{key:"setShadow",value:function(t){var e=t.boxShadow,i=void 0===e?[]:e,a=this.ctx;if(i.length){var n=(0,d.default)(i,4),r=n[0],o=n[1],s=n[2],c=n[3];a.setShadow(r,o,s,c)}}},{key:"setBorder",value:function(t,e){var i,a=this.ctx,n=t.width,r=t.height,o=e.border,d=e.borderBottom,c=e.borderTop,u=e.borderRight,l=e.borderLeft,h=e.borderRadius,f=o||{},v=f.borderWidth,p=void 0===v?0:v,g=f.borderStyle,m=f.borderColor,b=d||{},x=b.borderBottomWidth,w=void 0===x?p:x,y=b.borderBottomStyle,_=void 0===y?g:y,k=b.borderBottomColor,j=void 0===k?m:k,C=c||{},P=C.borderTopWidth,q=void 0===P?p:P,T=C.borderTopStyle,I=void 0===T?g:T,S=C.borderTopColor,O=void 0===S?m:S,M=u||{},L=(M.borderRightWidth,M.borderRightStyle,M.borderRightColor,l||{}),E=L.borderLeftWidth,N=void 0===E?p:E,R=L.borderLeftStyle,F=void 0===R?g:R,B=L.borderLeftColor,z=void 0===B?m:B,$=h||(i={r:h},(0,s.default)(i,"r",h),(0,s.default)(i,"r",h),(0,s.default)(i,"r",h),i),A=$.borderTopLeftRadius,D=void 0===A?h||0:A,H=$.borderTopRightRadius,W=void 0===H?h||0:H,G=$.borderBottomRightRadius,J=void 0===G?h||0:G,U=$.borderBottomLeftRadius,Q=void 0===U?h||0:U;if(d||l||c||u||o){var X=function(t,e,i){"dashed"==e?a.setLineDash([Math.ceil(6*t),Math.ceil(6*t)]):"dotted"==e&&a.setLineDash([t,t]),a.setStrokeStyle(i)},Y=function(t,e,i,n,r,o,s,d,c,u,l,h,f,v){a.save(),a.setLineWidth(h),X(h,f,v),a.beginPath(),a.arc(t,e,s,Math.PI*c,Math.PI*u),a.lineTo(i,n),a.arc(r,o,d,Math.PI*u,Math.PI*l),a.stroke(),a.restore()};a.save(),this.setOpacity(e);var V=this.setTransform(t,e),K=V.x,Z=V.y;o&&(a.setLineWidth(p),X(p,g,m),this.roundRect(K,Z,n,r,h,!1,!!m),a.restore()),d&&Y(K+n-J,Z+r-J,K+Q,Z+r,K+Q,Z+r-Q,J,Q,.25,.5,.75,w,_,j),l&&Y(K+Q,Z+r-Q,K,Z+D,K+D,Z+D,Q,D,.75,1,1.25,N,F,z),c&&Y(K+D,Z+D,K+n-W,Z,K+n-W,Z+W,D,W,1.25,1.5,1.75,q,I,O),u&&Y(K+n-W,Z+W,K+n,Z+r-J,K+n-J,Z+r-J,W,J,1.75,2,.25,q,I,O)}}},{key:"setOpacity",value:function(t){var e=t.opacity,i=void 0===e?1:e;this.ctx.setGlobalAlpha(i)}},{key:"drawView",value:function(t,e){var i=this.ctx,a=t.width,n=t.height,r=e||{},o=r.borderRadius,s=void 0===o?0:o,d=r.backgroundColor;i.save(),this.setOpacity(e);var c=this.setTransform(t,e),u=c.x,l=c.y;this.setShadow(e),this.setBackground(d,a,n),this.roundRect(u,l,a,n,s,!0,!1),i.restore(),this.setBorder(t,e)}},{key:"drawImage",value:function(){var t=(0,o.default)((0,r.default)().mark((function t(e){var i,a,n,s=this,d=arguments;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=d.length>1&&void 0!==d[1]?d[1]:{},a=d.length>2&&void 0!==d[2]?d[2]:{},n=!(d.length>3&&void 0!==d[3])||d[3],t.next=5,new Promise(function(){var t=(0,o.default)((0,r.default)().mark((function t(d,c){var u,h,f,v,p,g,m,b,x,w,y,_,k,j,C,P,q,T,I,S,O,M,L,E,N,R,F,B,z,$,A;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(u=s.ctx,h=s.sleep,f=s.canvas,v=a.borderRadius,p=void 0===v?0:v,g=a.mode,m=a.padding,b=void 0===m?{}:m,x=a.backgroundColor,w=b.paddingTop,y=void 0===w?0:w,_=b.paddingLeft,k=void 0===_?0:_,j=b.paddingRight,C=void 0===j?0:j,P=b.paddingBottom,q=void 0===P?0:P,T=i.left,I=i.top,S=i.width,O=i.height,u.save(),n||(s.setOpacity(a),M=s.setTransform(i,a),L=M.x,E=M.y,x&&s.setBackground(x,S,O),T=L,I=E,s.setShadow(a),s.roundRect(T,I,S,O,p,!!p,!1)),u.clip(),N=function(t){T+=k,I+=y,S=S-k-C,O=O-y-q;var e=t.width,i=t.height,a=t.src,n=0,r=0,o=S/O,s=e/i;switch(e||(g="scaleToFill"),g){case"aspectFit":o>=s?(e=O*s,i=O,n=T+Math.round(S-e)/2,r=I):(e=S,i=S/s,n=T,r=I+Math.round(O-i)/2),u.drawImage(a,n,r,e,i);break;case"aspectFill":o>=s?i=e/o:(e=i*o,n=Math.round(((t.width||S)-e)/2)),u.drawImage(a,n,r,e,i,T,I,S,O);break;default:u.drawImage(a,T,I,S,O)}},R=function(){u.restore(),s.setBorder(i,a),setTimeout(d,h)},F=function t(e){if(s.use2dCanvas){var i=f.createImage();i.onload=function(){e.src=i,N(e),R()},i.onerror=(0,o.default)((0,r.default)().mark((function i(){var a,n,o,c;return(0,r.default)().wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(!e.url){i.next=10;break}return i.next=3,(0,l.getImageInfo)(e.url,s.isH5PathToBase64,!0);case 3:a=i.sent,n=a.path,o=a.width,c=a.height,t({src:n,width:o,height:c}),i.next=12;break;case 10:console.error("createImage fail: ".concat(JSON.stringify(e))),d(!0);case 12:case"end":return i.stop()}}),i)}))),i.src=e.src}else N(e),R()},"string"!==typeof e){t.next=21;break}return t.next=14,(0,l.getImageInfo)(e,s.isH5PathToBase64);case 14:B=t.sent,z=B.path,$=B.width,A=B.height,F({src:z,width:$,height:A}),t.next=22;break;case 21:F(e);case 22:case"end":return t.stop()}}),t)})));return function(e,i){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"drawText",value:function(t,e,i,a){var n=this.ctx,r=e.width,o=e.height,s=e.offsetLeft,d=void 0===s?0:s,c=e.offsetTop,u=void 0===c?0:c,h=i.color,f=void 0===h?"#000000":h,v=i.lineHeight,p=void 0===v?"1.4em":v,g=i.fontSize,m=void 0===g?14:g,b=i.fontWeight,x=i.fontFamily,w=i.textStyle,y=i.textAlign,_=void 0===y?"left":y,k=i.verticalAlign,j=void 0===k?"top":k,C=i.backgroundColor,P=i.maxLines,q=(i.display,i.padding,i.borderRadius),T=void 0===q?0:q,I=i.textDecoration;if(p=(0,l.toPx)(p,m),t){n.save(),this.setOpacity(i);var S=this.setTransform(e,i),O=S.x,M=S.y;n.setTextBaseline(j),n.setFonts({fontFamily:x,fontSize:m,fontWeight:b,textStyle:w}),n.setTextAlign(_),C&&(this.setBackground(C,r,o),this.roundRect(O,M,r,o,T,1,0)),M+=u,this.setShadow(i),n.setFillStyle(f);var L={};if(a&&a.word.length>0)for(var E=0;E<a.word.length;E++){var N=0,R=void 0;while((R=t.indexOf(a.word[E],N))>-1){L[R]={reset:!0};for(var F=0;F<a.word[E].length;F++)L[R+F]={reset:!0};N=R+1}}switch(_){case"left":break;case"center":O+=.5*r;break;case"right":O+=r;break;default:break}var B=n.measureText(t).width,z=Math.ceil(B/r)*p,$=Math.ceil((o-z)/2);switch($<0&&($=0),j){case"top":break;case"middle":M+=m/2;break;case"bottom":M+=m;break;default:break}var A=function(t,e,i){var a=uni.getSystemInfoSync(),r=a.system;switch(/win|mac/.test(r)&&(e+=m/3),j){case"top":break;case"middle":e-=m/2;break;case"bottom":e-=m;break;default:break}var o=t;switch(_){case"left":t=t,o+=i;break;case"center":t-=i/2,o=t+i;break;case"right":o=t,t-=i;break;default:break}I&&(n.setLineWidth(m/13),n.beginPath(),/\bunderline\b/.test(I)&&(e-=.8*J,n.moveTo(t,e),n.lineTo(o,e)),/\boverline\b/.test(I)&&(e+=J,n.moveTo(t,e-p),n.lineTo(o,e-p)),/\bline-through\b/.test(I)&&(n.moveTo(t,e-p/2),n.lineTo(o,e-p/2)),n.closePath(),n.setStrokeStyle(f),n.stroke())},D=function(t,e,i){for(var r=Object.keys(L),o=0;o<r.length;o++){var s=L[r[o]];n.save(),n.setFillStyle(a.color),s.char&&n.fillText(s.char,s.x,s.y),n.restore()}},H=function(t,e){if(t){var i=Math.round(n.measureText(" ").width),a=Math.round(n.measureText("　").width),r=Math.round(n.measureText(e).width),o="",s=1;return r==a?(o="　",s=1):(o=" ",s=Math.ceil(r/i)),{char:new Array(s).fill(o).join(""),width:r}}return{char:e}},W=function(t,e,i,a){L[e].x=i,L[e].y=a,L[e].char=t},G=function(t,e,i,a,r){var o=r.startIndex,s=void 0===o?0:o,d=(r.endIndex,i);/·/.test(i)&&(d=d.replace(/·/g,"."),a=n.measureText(d).width);for(var c=i.split(""),u=t,l=0;l<e.length;l++){var h=e[l],f=h-s,v=c[f];if(v){var p=H(L[h],v),g=p.char,m=p.width;c[f]=g,"center"==_&&(u=t-.5*(a-m)),"right"==_&&(u=t-a+m),W(v,h,u+n.measureText(d.substring(0,f)).width,M+J)}}return c},J=Math.ceil((p-m)/2);if(B+d<=r&&!t.includes("\n")){O+=d;var U=Object.keys(L),Q="";return U&&(Q=G(O,U,t,B,{}),D()),n.fillText(Q.join(""),O,M+J),M+=p,A(O,M,B),n.restore(),void this.setBorder(e,i)}for(var X=t.split(""),Y=M,V=O,K="",Z=0,tt=0,et=0;et<=X.length;et++){var it=X[et]||"",at="\n"===it,nt=""==it;it=at?"":it;var rt=K+it,ot=n.measureText(rt).width;if(Z>=P)break;if(0==Z?(ot+=d,V=O+d):(ot=ot,V=O),ot>r||at||nt){var st=et;if(Z++,K=nt&&ot<=r?rt:K,Z===P&&ot>r){while(n.measureText("".concat(K,"...")).width>r){if(K.length<=1)break;K=K.substring(0,K.length-1)}K+="..."}var dt=Object.keys(L),ct="";if(dt&&(ct=G(O,dt,K,ot,{startIndex:tt,endIndex:st}),D()),n.fillText(ct.join(""),V,M+J),M+=p,A(V,M,ot),K=it,tt=st+(at?1:0),M+p>Y+o)break}else K=rt}n.restore(),this.setBorder(e,i)}}},{key:"drawNode",value:function(){var t=(0,o.default)((0,r.default)().mark((function t(e){var i,a,o,s,d,c,u,l,h,v,p,g,m;return(0,r.default)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i=e.layoutBox,a=e.computedStyle,o=e.attributes,s=e.name,d=e.rules,c=e.children,u=e.attributes,l=u.src,h=u.text,"view"!==s){t.next=6;break}this.drawView(i,a),t.next=12;break;case 6:if("image"!==s||!l){t.next=11;break}return t.next=9,this.drawImage(o,i,a,!1);case 9:t.next=12;break;case 11:"text"===s?this.drawText(h,i,a,d):"qrcode"===s&&null!==f.default&&void 0!==f.default&&f.default.api&&f.default.api.draw(h,this,i,a);case 12:if(c){t.next=14;break}return t.abrupt("return");case 14:v=Object.values?Object.values(c):Object.keys(c).map((function(t){return c[t]})),p=(0,n.default)(v),t.prev=16,p.s();case 18:if((g=p.n()).done){t.next=24;break}return m=g.value,t.next=22,this.drawNode(m);case 22:t.next=18;break;case 24:t.next=29;break;case 26:t.prev=26,t.t0=t["catch"](16),p.e(t.t0);case 29:return t.prev=29,p.f(),t.finish(29);case 32:case"end":return t.stop()}}),t,this,[[16,26,29,32]])})));return function(e){return t.apply(this,arguments)}}()}]),t}();e.Draw=v},d2b0:function(t,e,i){"use strict";var a=i("9ed7"),n=i.n(a);n.a},dad5:function(t,e){t.exports={clickHref:function(t){uni.setClipboardData({data:t.href,success:function(){return uni.showToast({icon:"none",title:"链接已复制，请在浏览器中打开"})}})}}},dc7d:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={name:"JiangqieNoData",data:function(){return{}},components:{},props:{},methods:{}}},e093:function(t,e,i){"use strict";i.r(e);var a=i("dc7d"),n=i.n(a);for(var r in a)["default"].indexOf(r)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(r);e["default"]=n.a},fd60:function(t,e,i){"use strict";i("6a54"),Object.defineProperty(e,"__esModule",{value:!0}),e.adaptor=function(t){return Object.assign(t,a(t),{setStrokeStyle:function(e){t.strokeStyle=e},setLineWidth:function(e){t.lineWidth=e},setLineCap:function(e){t.lineCap=e},setFillStyle:function(e){t.fillStyle=e},setFontSize:function(e){t.font=String(e)},setGlobalAlpha:function(e){t.globalAlpha=e},setLineJoin:function(e){t.lineJoin=e},setTextAlign:function(e){t.textAlign=e},setMiterLimit:function(e){t.miterLimit=e},setShadow:function(e,i,a,n){t.shadowOffsetX=e,t.shadowOffsetY=i,t.shadowBlur=a,t.shadowColor=n},setTextBaseline:function(e){t.textBaseline=e},createCircularGradient:function(){},draw:function(){}})},e.expand=function(t){return Object.assign(t,a(t))},i("c223");var a=function(t){return{setFonts:function(e){var i=e.fontFamily,a=void 0===i?"sans-serif":i,n=e.fontSize,r=void 0===n?14:n,o=e.fontWeight,s=void 0===o?"normal":o,d=e.textStyle,c=void 0===d?"normal":d;t.font="".concat(c," ").concat(s," ").concat(r,"px ").concat(a)}}}}}]);